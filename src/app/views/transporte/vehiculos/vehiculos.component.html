<c-modal id="liveAgregaModal" [visible]="visibleAgregar" (visibleChange)="handleLiveAgregaChange($event)" size="xl">
  <c-modal-header>
    <h5 cModalTitle>Agregar Vehículo </h5>
    <button (click)="toggleLiveAgregar()" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>
    <form cForm [formGroup]="formVehiculo" (ngSubmit)="registrarVehiculo()" *ngIf="listaComunasFull.length !== 0" > 
      <div>
        <p></p>
        <h5>Vehículo</h5>
        <p></p>
        <c-row>
          <c-col [xs]>
              <div class="noEditar">
                  Rut Colaborador *
                  <input list="RutColaboradores" name="RutColaboradores" formControlName="Rut_colaborador"  class="form-control" placeholder="Seleccione un colaborador" (change)="seleccionarRut()" />
                  <datalist id="RutColaboradores" >
                    <!-- <option [value]="'Seleccione un colaborador'" selected>Seleccione un colaborador</option> -->
                    <option *ngFor="let colab of colaboradores"  [value]="colab.Rut"  >{{colab.Rut}}</option>
                  </datalist>

                  <!-- <select id="Region" cSelect formControlName="Rut_colaborador"  class="form-control" (change)="seleccionarRut()">
                    <option [value]="'Seleccione un colaborador'" selected>Seleccione un colaborador</option>
                    <option *ngFor="let colab of colaboradores"  [value]="colab.Rut"  >{{colab.Rut}}</option>
                  </select> -->
                  <span class="error" *ngIf="(formVehiculo.get('Rut_colaborador')?.errors?.['required'] ||formVehiculo.value.Rut_colaborador == 'Seleccione un colaborador') && isErrorView">
                    Falta ingresar el rut
                </span>
                  <!-- <input type="text" placeholder="Rut" placeholder="Ejemplo : 11111111-1" class="form-control" formControlName="Rut_colaborador" (change)="verificaRut('colab_vehiculo'); veficarColabExiste(formVehiculo.value.Rut_colaborador)"   maxlength="10"> 
                  <span class="error" *ngIf="form.get('Rut_colaborador')?.errors?.['required'] && isErrorView">
                      Falta ingresar el rut
                  </span>
                  <span class="error" *ngIf="!rutColaborador ">
                    Error al ingresar rut
                </span> -->
              </div>
          </c-col>
          <c-col [xs]>
            <div class="">
                Razón Social
                <input type="text" placeholder="Razón Social" class="form-control" formControlName="Razon_social" >
                <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                <span class="error" *ngIf="formVehiculo.get('Razon_social')?.errors?.['required'] && isErrorView">
                    Falta agregar la razón social
                </span>
            </div>
        </c-col>
        <c-col [xs]>
          <div class="">

        </div>
      </c-col>
          <c-col [xs]>

          </c-col>
      </c-row>
      <c-row>
        <c-col [xs]>
          <div class="">
            Patente * 
            <input type="text" placeholder="Patente " class="form-control" formControlName="Ppu" maxlength="6" >
                <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                <span class="error" *ngIf="formVehiculo.get('Ppu')?.errors?.['required']  && isErrorView">
                    Falta agregar la patente
                </span>
                
        </div>
      </c-col>
          <c-col [xs]>
              <div class="">
                Tipo vehículo *
                  <select id="Tipo"  cSelect formControlName="Tipo"  class="form-control">
                    <option *ngFor="let tipo of tipoVehiculos"  [value]="tipo.id"  >{{tipo.name}}</option>
                  </select>
                  </div>
          </c-col>
          <c-col [xs]>
            <div class="noEditar">
                Marca *
                <select id="Marca"   cSelect formControlName="Marca"  class="form-control">
                  <option *ngFor="let marca of marcaVehiculo" [value]="marca.id"  >{{marca.name}}</option>
                </select>
            </div>
        </c-col>
            <c-col [xs]>
                <div class="">
                  Modelo *
                  <input type="text" placeholder="Modelo" class="form-control" formControlName="Modelo" >
                  <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                  <span class="error" *ngIf="formVehiculo.get('Modelo')?.errors?.['required'] && isErrorView">
                      Falta agregar el modelo
                  </span>
                </div>
            </c-col>
      </c-row>
      <c-row>
          <c-col [xs]>
            <div class="">
              Año *
              <input type="text" placeholder="Año" class="form-control" formControlName="Ano" >
              <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
              <span class="error" *ngIf="formVehiculo.get('Ano')?.errors?.['required'] && isErrorView">
                  Falta agregar el año
              </span>
          </div>
        </c-col>
        <c-col [xs]>
          <div class="">
            Región para disponibilizar vehículo
            <select id="Region"  (change)="buscarComunas($event)"  cSelect formControlName="Region"  class="form-control">
                <option *ngFor="let region of listaRegiones"  [value]="region.Id_region"  >{{region.Nombre_region}}</option>
            </select>
        </div>
            </c-col>
              <c-col [xs]>
                <div class="">
                  Comuna *
                  <select id="Comuna" cSelect formControlName="Comuna" class="form-control">
                      <option  *ngFor="let comuna of listaComunas" value={{comuna.Id_comuna}} >{{comuna.Nombre_comuna}}</option>
                  </select>            
                </div>
            </c-col>
            <c-col [xs]>
              <div class="">
                Permiso de circulación
              <input type="file" name="" id="A_permiso_circulacion" (change)="onFileSelected($event,'permiso_circulacion')" class="form-control" accept=".pdf"> 
              </div>
          </c-col>
        </c-row>
        <c-row>
          <c-col [xs]>
            <div class="">
              Revisión técnica
            <input type="file" name="" id="A_revision_tecnica" (change)="onFileSelected($event,'revision_tecnica')" class="form-control" accept=".pdf"> 
          </div>
        </c-col>
          <c-col [xs]>
            <div class="">
              SOAP
            <input type="file" name="" id="A_soap" (change)="onFileSelected($event,'soap')" class="form-control" accept=".pdf">          
            </div>
        </c-col>
        <c-col [xs]>
          <div class="">
            Padrón
            <input type="file" name="" id="A_padron" (change)="onFileSelected($event,'padron')" class="form-control" accept=".pdf"> 
          </div>
      </c-col>
      <c-col [xs]>
        <div class="">
          Certificado de gases
          <input type="file" name="" id="A_cert_gases" (change)="onFileSelected($event,'cert_gases')" class="form-control" accept=".pdf"> 
          </div>
      </c-col>
        </c-row>
        <p></p>
        <!-- <h5>Datos proporcionados por transporte</h5> -->
        <p></p>

        <c-row>
          <c-col [xs]>
              <div class=""  >
                <span title="">
                  Capacidad de carga Kg *
                </span>
                  <input type="number" placeholder="" class="form-control" formControlName="Capacidad_carga_kg" min="0" >
                  <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                  <span class="error" *ngIf="form.get('Capacidad_carga_kg')?.errors?.['required'] && isErrorView">
                      Falta agregar la capacidad de carga Kg
                  </span>
              </div>
          </c-col>
    
          <c-col [xs]>
              <div class="noEditar">
                <span title="El valor puede tener un máximo de 2 decimales ">
                  Capacidad de carga M3 *
                </span>
                
                  <input type="number" placeholder="" class="form-control" formControlName="Capacidad_carga_m3" min="0">
                  <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                  <span class="error" *ngIf="formVehiculo.get('Capacidad_carga_m3')?.errors?.['required'] && isErrorView">
                      Falta agregar la capacidad de carga M3
                  </span> 
              </div>
          </c-col>
          <c-col [xs]>
              <div class="">
                Capacidad carga plataforma Kg *
                   <input type="number" placeholder="" class="form-control"  formControlName="Platform_load_capacity_kg" min="0">
                   <span class="error" *ngIf="formVehiculo.get('Platform_load_capacity_kg')?.errors?.['required'] && isErrorView">
                      Falta agregar la carga plataforma Kg
                  </span>
                  </div>
          </c-col>
          <c-col [xs]>
            <div class="noEditar">
              Capacidad de carga grúa Kg *
                  <input type="number" placeholder="" class="form-control"  formControlName="Crane_load_capacity_kg"  min="0">
                  <span class="error" *ngIf="formVehiculo.get('Crane_load_capacity_kg')?.errors?.['required'] && isErrorView">
                    Falta agregar la carga grúa Kg
                </span>
            </div>
        </c-col>
          
      </c-row>
      <c-row>
        <c-col [xs]>
            <div class="">
              Fecha vencimiento permiso *
              <input type="date" placeholder="" class="form-control" formControlName="Permiso_circulacion_fec_venc" >
                <span class="error" *ngIf="formVehiculo.get('Permiso_circulacion_fec_venc')?.errors?.['required'] && isErrorView">
                  Falta agregar la fecha 
              </span>
            </div>
        </c-col>
  
        <c-col [xs]>
            <div class="noEditar">
              Fecha vencimiento SOAP *
              <input type="date" placeholder="" class="form-control" formControlName="Soap_fec_venc" >
                <span class="error" *ngIf="formVehiculo.get('Soap_fec_venc')?.errors?.['required'] && isErrorView">
                  Falta agregar la fecha
              </span>
            </div>
        </c-col>
        <c-col [xs]>
            <div class="">
              Fecha vencimiento revisión *
              <input type="date" placeholder="" class="form-control" formControlName="Revision_tecnica_fec_venc" >
                <span class="error" *ngIf="formVehiculo.get('Revision_tecnica_fec_venc')?.errors?.['required'] && isErrorView">
                  Falta agregar la fecha
               </span>
                </div>
        </c-col>
        <c-col [xs]>
            <!-- <div class="noEditar">
              Estado
            </div> -->
      </c-col>
        
    </c-row>
    <p></p>
     <!-- Tickets de Habilitado Transporte -->
    <c-row>
          <c-col [xs]>
            
            <div [ngClass]="formVehiculo.get('Habilitado')?.value ? 'rectangulo-seguridad' : 'rectangulo'">
              <input type="checkbox" formControlName="Habilitado" >
                  <label for="" *ngIf="formVehiculo.get('Habilitado')?.value">Activo</label> 
                  <label for="" *ngIf="!formVehiculo.get('Habilitado')?.value">Deshabilitado</label> 

            </div>
        </c-col>
        <c-col [xs]>
          
      </c-col>
      <c-col [xs]>
        
    </c-col>
    </c-row>
    
    <p></p>
    <!-- Tickets de GPS -->
    <c-row>
      <c-col [xs]>
        
        <div [ngClass]="formVehiculo.get('Gps')?.value ? 'rectangulo-seguridad' : 'rectangulo-gps'">
          <input type="checkbox" (click)="checkGPS()" formControlName="Gps" >
          GPS 

        </div>
    </c-col>
    <c-col [xs]>
      
  </c-col>
<c-col [xs]>
  <!-- Agregando GPS -->
</c-col>
    </c-row>
    <c-row *ngIf="formVehiculo.get('Gps')?.value">
      <c-col [xs]>
        <div class="">
            IMEI GPS
            <input type="text" placeholder="IMEI" class="form-control" formControlName="Imei" >

        </div>
    </c-col>
    <c-col [xs]>
      <div class="">
          OC Instalación
          <input type="text" placeholder="OC" class="form-control" formControlName="Oc_instalacion" >

      </div>
  </c-col>
    <c-col [xs]>
      <div class="">
          Fecha Instalación
          <input type="date" class="form-control" formControlName="Fecha_instalacion" >
          
      </div>
  </c-col>
  <c-col [xs]>
    <div class="">

    </div>
</c-col>
    

    </c-row>
    <p></p>
    <!-- Tickets de estado -->
    <!-- <c-row>
      <c-col [xs]>
        <div [ngClass]="formVehiculo.get('Habilitado')?.value ? 'rectangulo-seguridad' : 'rectangulo'">
          <input type="checkbox" formControlName="Habilitado"  >
        
                  <label for="" *ngIf="formVehiculo.get('Habilitado')?.value"> Habilitado por seguridad</label> 
                  <label for="" *ngIf="!formVehiculo.get('Habilitado')?.value">Deshabilitado</label> 


        </div>
    </c-col>
    <c-col [xs]>
    
  </c-col>
  <c-col [xs]>
   
</c-col>
    <p></p>
    </c-row> -->
    
    </div>
      <p></p>
      <c-row>
          <c-col [xs]>
              <button class="btn btn-success" type="submit"  >Guardar 
                  <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#000000}</style><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
              </button>
          </c-col>
      </c-row>
    </form>
  </c-modal-body>
</c-modal>

<c-modal id="liveDemoModal" [visible]="visible" (visibleChange)="handleLiveDemoChange($event)" size="xl">
  <c-modal-header>
    <h5 cModalTitle> </h5>
    <button (click)="toggleLiveDemo()" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>
    <form cForm [formGroup]="formVehiculo" (ngSubmit)="actualizarDatosVehiculo()" *ngIf="listaComunasFull.length !== 0" > 
      <div>
        <p></p>
        <h5>Vehículos</h5>
        <p></p>
      <c-row>
          <c-col [xs]>
              <div class="noEditar">
                  Rut Colaborador *
                  <!-- <input type="text" placeholder="Codigo" class="form-control"  readonly [disabled]="true" (change)="codigoExistente()" [value]="codigoFinal"> -->
                  <input type="text" placeholder="Rut" placeholder="Ejemplo : 11111111-1" class="form-control disabled-like"  formControlName="Rut_colaborador" (change)="verificaRut('colab_vehiculo'); veficarColabExiste(formVehiculo.value.Rut_colaborador)"   maxlength="10" readonly> 
                  <span class="error" *ngIf="formVehiculo.get('Rut_colaborador')?.errors?.['required'] && isErrorView">
                      Falta ingresar el rut
                  </span>
                  <span class="error" *ngIf="!rutColaborador ">
                    Error al ingresar rut
                </span>
              </div>
          </c-col>
          <c-col [xs]>
            <div class="">
                Razón Social
                <input type="text" placeholder="Razón Social" class="form-control disabled-like"  formControlName="Razon_social" readonly>
                <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                <span class="error" *ngIf="formVehiculo.get('Razon_social')?.errors?.['required'] && isErrorView">
                    Falta agregar la razón social
                </span>
            </div>
        </c-col>
        <c-col [xs]>
          <div class="">
            Patente * 
            <input type="text" placeholder="Patente " class="form-control" formControlName="Ppu" maxlength="6">
                <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                <span class="error" *ngIf="formVehiculo.get('Ppu')?.errors?.['required'] && isErrorView">
                    Falta agregar la patente
                </span>
        </div>
      </c-col>
          <c-col [xs]>
              <div class="">
                Tipo vehículo *
                  <select id="Tipo"  cSelect formControlName="Tipo"  class="form-control">
                    <option *ngFor="let tipo of tipoVehiculos"  [value]="tipo.id"  >{{tipo.name}}</option>
                  </select>
                  </div>
          </c-col>
      </c-row>
      <c-row>
        <!-- <c-col [xs]>
          <div class="noEditar"> 
              Características *
              <select id="Caracteristicas"  cSelect formControlName="Caracteristicas"  class="form-control">
                <option *ngFor="let caract of caracteristicasVehiculo"   [value]="caract.id"  >{{caract.name}}</option>
              </select>
          </div>
      </c-col> -->
        <c-col [xs]>
          <div class="noEditar">
              Marca *
              <select id="Marca"   cSelect formControlName="Marca"  class="form-control">
                <option *ngFor="let marca of marcaVehiculo" [value]="marca.id"  >{{marca.name}}</option>
              </select>
          </div>
      </c-col>
          <c-col [xs]>
              <div class="">
                Modelo *
                <input type="text" placeholder="Modelo" class="form-control" formControlName="Modelo" >
                <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                <span class="error" *ngIf="formVehiculo.get('Modelo')?.errors?.['required'] && isErrorView">
                    Falta agregar el modelo
                </span>
              </div>
          </c-col>
          <c-col [xs]>
            <div class="">
              Año *
              <input type="text" placeholder="Año" class="form-control" formControlName="Ano" >
              <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
              <span class="error" *ngIf="formVehiculo.get('Ano')?.errors?.['required'] && isErrorView">
                  Falta agregar el año
              </span>
          </div>
        </c-col>
        </c-row>
        <c-row>
          <c-col [xs]>
            <div class="">
              Región para disponibilizar vehículo
              <select id="Region"  (change)="buscarComunas($event)"  cSelect formControlName="Region"  class="form-control">
                  <option *ngFor="let region of listaRegiones"  [value]="region.Id_region"  >{{region.Nombre_region}}</option>
              </select>
          </div>
        </c-col>
          <c-col [xs]>
            <div class="">
              Comuna *
              <select id="Comuna" cSelect formControlName="Comuna" class="form-control">
                  <option  *ngFor="let comuna of listaComunas" value={{comuna.Id_comuna}} >{{comuna.Nombre_comuna}}</option>
              </select>            
            </div>
        </c-col>
        <c-col [xs]>
          <div class="">
            Permiso de circulación
          <input type="file" name="" id="permiso_circulacion" (change)="onFileSelected($event,'permiso_circulacion')" class="form-control" accept=".pdf"> 

          <p></p>
            <button class="btn btn-success" type="button" *ngIf="descargarPermisoCirculacion" (click)="descargarArchivo(descargarPermisoCirculacion)" >descargar 
              <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#000000}</style><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
          </button>
          &nbsp;&nbsp;
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 1536 1536"
              *ngIf="isDocumentExpiringOrExpired()">
            <path fill="green" d="M1536 768q0 156-61 298t-164 245t-245 164t-298 61q-172 0-327-72.5T177 1259q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9q16 2 23 12q73 95 179 147t225 52q104 0 198.5-40.5T1130 1130t109.5-163.5T1280 768t-40.5-198.5T1130 406T966.5 296.5T768 256q-98 0-188 35.5T420 393l137 138q31 30 14 69q-17 40-59 40H64q-26 0-45-19T0 576V128q0-42 40-59q39-17 69 14l130 129Q346 111 483.5 55.5T768 0q156 0 298 61t245 164t164 245t61 298" />
          </svg>

          </div>
      </c-col>
        </c-row>

        <c-row>
          <c-col [xs]>
            <div class="">
              Revisión técnica
            <input type="file" name="" id="revision_tecnica" (change)="onFileSelected($event,'revision_tecnica')" class="form-control" accept=".pdf" > 
            <p></p>
            <button class="btn btn-success" type="button" *ngIf="descargarRevisionTecnica" (click)="descargarArchivo(descargarRevisionTecnica)" >descargar 
              <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#000000}</style><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
          </button>
          </div>
        </c-col>
          <c-col [xs]>
            <div class="">
              SOAP
            <input type="file" name="" id="soap"  (change)="onFileSelected($event,'soap')" class="form-control" accept=".pdf">   
            <p></p>
            <button class="btn btn-success" type="button" *ngIf="descargarSOAP" (click)="descargarArchivo(descargarSOAP)" >descargar 
              <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#000000}</style><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
          </button>
            </div>
        </c-col>
        <c-col [xs]>
          <div class="">
            Padrón
            <input type="file" name="" id="padron"  (change)="onFileSelected($event,'padron')" class="form-control" accept=".pdf"> 
            <p></p>
            <button class="btn btn-success" type="button" *ngIf="descargarPadron" (click)="descargarArchivo(descargarPadron)" >descargar 
              <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#000000}</style><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
          </button>
          </div>
      </c-col>
      <c-col [xs]>
        <div class="">
          Certificado de gases
          <input type="file" name="" id="cert_gases"  (change)="onFileSelected($event,'cert_gases')" class="form-control" accept=".pdf"> 
          <p></p>
          <button class="btn btn-success" type="button" *ngIf="descargarCertGases" (click)="descargarArchivo(descargarCertGases)" >descargar 
            <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#000000}</style><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
        </button>
          </div>
      </c-col>
        </c-row>
        <p></p>
        <!-- <h5>Datos proporcionados por transporte</h5> -->
        <p></p>

        <c-row>
          <c-col [xs]>
              <div class="">
                Capacidad de carga Kg *
                  <input type="number" placeholder="" class="form-control" formControlName="Capacidad_carga_kg" min="0">
                  <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                  <span class="error" *ngIf="formVehiculo.get('Capacidad_carga_kg')?.errors?.['required'] && isErrorView">
                      Falta agregar la capacidad de carga Kg
                  </span>
              </div>
          </c-col>
    
          <c-col [xs]>
              <div class="noEditar">
                <span title="El valor puede tener un máximo de 2 decimales ">
                  Capacidad de carga M3 *
                </span>
                  <input type="number" placeholder="" class="form-control" formControlName="Capacidad_carga_m3" min="0">
                  <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                  <span class="error" *ngIf="formVehiculo.get('Capacidad_carga_m3')?.errors?.['required'] && isErrorView">
                      Falta agregar la capacidad de carga M3
                  </span>
              </div>
          </c-col>
          <c-col [xs]>
              <div class="">
                Capacidad carga plataforma Kg *
                   <input type="number" placeholder="" class="form-control"  formControlName="Platform_load_capacity_kg" min="0" >
                   <span class="error" *ngIf="formVehiculo.get('Platform_load_capacity_kg')?.errors?.['required'] && isErrorView">
                      Falta agregar la carga plataforma Kg
                  </span>
                  </div>
          </c-col>
          <c-col [xs]>
            <div class="noEditar">
              Capacidad de carga grúa Kg *
                  <input type="number" placeholder="" class="form-control"  formControlName="Crane_load_capacity_kg" min="0">
                  <span class="error" *ngIf="formVehiculo.get('Crane_load_capacity_kg')?.errors?.['required'] && isErrorView">
                    Falta agregar la carga grúa Kg
                </span>
            </div>
        </c-col>
          
      </c-row>
      <c-row>
        <c-col [xs]>
            <div class="">
              Fecha vencimiento permiso *
              <input type="date" placeholder="" class="form-control" formControlName="Permiso_circulacion_fec_venc" >
                <span class="error" *ngIf="formVehiculo.get('Permiso_circulacion_fec_venc')?.errors?.['required'] && isErrorView">
                  Falta agregar la fecha
              </span>
            </div>
        </c-col>
  
        <c-col [xs]>
            <div class="noEditar">
              Fecha vencimiento SOAP *
              <input type="date" placeholder="" class="form-control" formControlName="Soap_fec_venc" >
                <span class="error" *ngIf="formVehiculo.get('Soap_fec_venc')?.errors?.['required'] && isErrorView">
                  Falta agregar la fecha
              </span>
            </div>
        </c-col>
        <c-col [xs]>
            <div class="">
              Fecha vencimiento revisión *
              <input type="date" placeholder="" class="form-control" formControlName="Revision_tecnica_fec_venc" >
                <span class="error" *ngIf="formVehiculo.get('Revision_tecnica_fec_venc')?.errors?.['required'] && isErrorView">
                  Falta agregar la fecha
               </span>
                </div>
        </c-col>
        <c-col [xs]>
            <div class="noEditar">
            </div>
      </c-col>
        
    </c-row>
    <p></p>
      <!-- Tickets de Habilitado Transporte -->
    <c-row>
      <c-col [xs]>
        <div [ngClass]="formVehiculo.get('Habilitado')?.value ? 'rectangulo-seguridad' : 'rectangulo'">
          <input type="checkbox" formControlName="Habilitado" >
                  <label for="" *ngIf="formVehiculo.get('Habilitado')?.value">Activo</label> 
                  <label for="" *ngIf="!formVehiculo.get('Habilitado')?.value">Deshabilitado</label> 

                </div>
          </c-col>
          <c-col [xs]>
            
        </c-col>
        <c-col [xs]>
            
        </c-col>
        </c-row>

    <c-row *ngIf="formVehiculo.get('Habilitado')?.value == false">
      <c-col [xs]>
        <div class="">
          Motivo Desactivación
            <!-- <input type="text" placeholder="IMEI" class="form-control" formControlName="Imei" > -->
            <textarea class="form-control" rows="2" cols="38" type="text" id="description" name="description" formControlName="Desc_desabilitado"></textarea>
        </div>
    </c-col>
    <!-- <c-col [xs]>
      <div class="">
          OC Instalación
          <input type="text" placeholder="OC" class="form-control" formControlName="Oc_instalacion" >

      </div>
  </c-col> -->
    <c-col [xs]>
      <div class="">
          OC Desinstalación GPS
          <input type="text" placeholder="OC" class="form-control" formControlName="Oc_desinstalacion" >

      </div>
  </c-col>
    <c-col [xs]>
      <div class="">
          Fecha Desinstalación GPS
          <input type="date" class="form-control" formControlName="Fecha_desinstalacion" >
      </div>
    </c-col>
    

    </c-row>
        <p></p>
        <!-- Tickets de GPS -->
        <c-row>
          <c-col [xs]>
            <div [ngClass]="formVehiculo.get('Gps')?.value ? 'rectangulo-seguridad' : 'rectangulo-gps'">
              <input type="checkbox" (click)="checkGPS()" formControlName="Gps" >
              GPS 

            </div>
        </c-col>
        <c-col [xs]>
          
        </c-col>
        <c-col [xs]>
        <!-- Agregando GPS -->
        </c-col>
        </c-row>
        <c-row *ngIf="formVehiculo.get('Gps')?.value">
          <c-col [xs]>
            <div class="">
                IMEI GPS
                <input type="text" placeholder="IMEI" class="form-control" formControlName="Imei" >

            </div>
        </c-col>
        <c-col [xs]>
          <div class="">
              OC Instalación
              <input type="text" placeholder="OC" class="form-control" formControlName="Oc_instalacion" >

          </div>
      </c-col>
        <c-col [xs]>
          <div class="">
              Fecha Instalación
              <input type="date" class="form-control" formControlName="Fecha_instalacion" >
          </div>
        </c-col>
        <c-col [xs]>
        <div class="">

        </div>
        </c-col>


</c-row>
<p></p>
<!-- Tickets de estado -->
<!-- <c-row>
  <c-col [xs]>
    <div [ngClass]="formVehiculo.get('Habilitado')?.value ? 'rectangulo-seguridad' : 'rectangulo'">
      <input type="checkbox" formControlName="Habilitado"  >
          <label for="" *ngIf="formVehiculo.get('Habilitado')?.value"> Habilitado por seguridad</label> 
          <label for="" *ngIf="!formVehiculo.get('Habilitado')?.value">Deshabilitado</label> 

    </div>
</c-col>
<c-col [xs]>

</c-col>
<c-col [xs]>

</c-col>
<p></p>
</c-row> -->
      
    </div>
      <p></p>
      <c-row *ngIf="permiso">
          <c-col [xs]>
              <button class="btn btn-success" type="submit"  >Actualizar 
                  <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#000000}</style><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
              </button>
          </c-col>
      </c-row>
    </form>

  </c-modal-body>
  <c-modal-footer>
    <button (click)="toggleLiveDemo()" cButton color="secondary">
      Cerrar
    </button>
  </c-modal-footer>
</c-modal>

<h2>Vehículos Inscritos</h2>
<p></p>

      <c-row>
        <c-col [xs] >
            <button *ngIf="permiso" class="btn btn-success" (click)="toggleLiveAgregar()">Agregar Vehículo
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512">
                <path fill="black" d="M441.885 141.649A32.028 32.028 0 0 0 415.669 128H336V80a32.036 32.036 0 0 0-32-32H48a32.036 32.036 0 0 0-32 32v328h53.082a67.982 67.982 0 0 0 133.836 0h106.164a67.982 67.982 0 0 0 133.836 0H496V226.522a23.882 23.882 0 0 0-4.338-13.763ZM47.98 80H304v176H48ZM136 432a36 36 0 1 1 36-36a36.04 36.04 0 0 1-36 36m240 0a36 36 0 1 1 36-36a36.04 36.04 0 0 1-36 36m88-56h-23.006a68 68 0 0 0-129.988 0H200.994a68 68 0 0 0-129.988 0H48v-88h416Zm0-120H336v-96h79.669L464 229.044Z" />
              </svg>   
            </button>
        </c-col>
        <c-col [xs]>
          <select id="Region"  cSelect  class="form-control" (change)="filtrarVehiculoRegion()" [(ngModel)]="regionSeleccionada">
            <option  [value]="0" >Todas las regiones</option>
            <option *ngFor="let region of listaRegionesFiltro"  [value]="region.Id_region"  >{{region.Nombre_region}}</option>
        </select>
        </c-col>
        <c-col [xs]>
            <input type="text" placeholder="Buscar Vehículo" class="form-control" [(ngModel)]="buscadorVehiculo">

        </c-col>
        <c-col [xs]>
            
          <button class="btn btn-success" (click)="buscarVehiculoFiltro()">Buscar</button>
        </c-col>
    </c-row>
    <p></p>

    <c-row>
      <c-col xs="6" sm="3">
        <!-- <c-widget-stat-e
          class="mb-4 text-white fs-4"
          color="#98ff98"
        >
        Total
        <br />
          {{panelColab.Total}}  
          
    
    
      </c-widget-stat-e> -->

      <!-- Card 1: Equipos de Calibración por vencer -->

      <div class="card card-green">
        <table>
          <tr>
            <td width="98" height="98" >
              <div class="icon-background">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50"  viewBox="0 0 640 512">
                  <path fill="#5cb85c" d="M64 32C28.7 32 0 60.7 0 96v304c0 44.2 35.8 80 80 80c26.2 0 49.4-12.6 64-32c14.6 19.4 37.8 32 64 32c44.2 0 80-35.8 80-80c0-5.5-.6-10.8-1.6-16h163.2c-1 5.2-1.6 10.5-1.6 16c0 44.2 35.8 80 80 80s80-35.8 80-80c0-5.5-.6-10.8-1.6-16h1.6c17.7 0 32-14.3 32-32v-90.3c0-9.2-3.2-18.2-9-25.3l-58.8-71.8c-10.6-13-26.5-20.5-43.3-20.5L480 144V96c0-35.3-28.7-64-64-64zm521 224H480v-64h48.8c2.4 0 4.7 1.1 6.2 2.9zm-57 112a32 32 0 1 1 0 64a32 32 0 1 1 0-64m-352 32a32 32 0 1 1 64 0a32 32 0 1 1-64 0m-96-32a32 32 0 1 1 0 64a32 32 0 1 1 0-64" />
                </svg>
            </div>
            </td>
            <td>
              <div class="text-content">
                <h3>Total</h3>
                <div class="number">{{panelVehiculos.Total}}</div>
            </div>
            </td>
          </tr>
        </table>
    </div>
      

      <!-- <div class="card" style="background-color: #98ff98;">
        <div class="card-body d-flex align-items-center ">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 640 512">
            <path fill="gray" d="M64 32C28.7 32 0 60.7 0 96v304c0 44.2 35.8 80 80 80c26.2 0 49.4-12.6 64-32c14.6 19.4 37.8 32 64 32c44.2 0 80-35.8 80-80c0-5.5-.6-10.8-1.6-16h163.2c-1 5.2-1.6 10.5-1.6 16c0 44.2 35.8 80 80 80s80-35.8 80-80c0-5.5-.6-10.8-1.6-16h1.6c17.7 0 32-14.3 32-32v-90.3c0-9.2-3.2-18.2-9-25.3l-58.8-71.8c-10.6-13-26.5-20.5-43.3-20.5L480 144V96c0-35.3-28.7-64-64-64zm521 224H480v-64h48.8c2.4 0 4.7 1.1 6.2 2.9zm-57 112a32 32 0 1 1 0 64a32 32 0 1 1 0-64m-352 32a32 32 0 1 1 64 0a32 32 0 1 1-64 0m-96-32a32 32 0 1 1 0 64a32 32 0 1 1 0-64" />
          </svg>
          <table>
            <tr>
              <span style="font-weight: bolder; font-size: 14px;"> Total  </span>
            </tr>
            <tr>
              <span style="font-weight: bolder; font-size: 28px;">{{panelVehiculos.Total}}</span>
            </tr>
          </table>
        </div>
      </div> -->
    
    
      </c-col>
    
      <c-col xs="6" sm="3">

        <div class="card card-blue">
          <table>
            <tr>
              <td width="98" height="98">
                <div class="icon-background">
                  <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50"  viewBox="0 0 640 512">
                    <path fill="#3399ff" d="M213.2 32H288v64c0 17.7 14.3 32 32 32s32-14.3 32-32V32h74.8c27.1 0 51.3 17.1 60.3 42.6l42.7 120.6c-10.9-2.1-22.2-3.2-33.8-3.2c-59.5 0-112.1 29.6-144 74.8V224c0-17.7-14.3-32-32-32s-32 14.3-32 32v64c0 17.7 14.3 32 32 32c2.3 0 4.6-.3 6.8-.7c-4.5 15.5-6.8 31.8-6.8 48.7c0 5.4.2 10.7.7 16h-.7c-17.7 0-32 14.3-32 32v64H86.6C56.5 480 32 455.5 32 425.4c0-6.2 1.1-12.4 3.1-18.2L152.9 74.6C162 49.1 186.1 32 213.2 32M352 368a144 144 0 1 1 288 0a144 144 0 1 1-288 0m211.3-43.3c-6.2-6.2-16.4-6.2-22.6 0L480 385.4l-28.7-28.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l40 40c6.2 6.2 16.4 6.2 22.6 0l72-72c6.2-6.2 6.2-16.4 0-22.6" />
                  </svg>
              </div>
              </td>
              <td>
                <div class="text-content">
                  <h3>Vehículos Habilitados</h3>
                  <div class="number">{{panelVehiculos.Vehiculos_Habilitados}}</div>
              </div>
              </td>
            </tr>
          </table>
      </div>
    
      <!-- <div class="card" style="background-color: #ADD8E6;">
        <div class="card-body d-flex align-items-center ">
          <table>
            <tr>
              <span style="font-weight: bolder; font-size: 14px;">  Vehículos Habilitados  </span>
            </tr>
            <tr>
              <span style="font-weight: bolder; font-size: 28px;">{{panelVehiculos.Vehiculos_Habilitados}}</span>
            </tr>
          </table>
        </div>
      </div> -->
    
      </c-col>
    
      <c-col xs="6" sm="3">

        <div class="card card-blue">
          <table>
            <tr>
              <td width="98" height="98">
                <div class="icon-background">
                  <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50"  viewBox="0 0 384 512">
                    <path fill="#3399ff" d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0M192 128a64 64 0 1 1 0 128a64 64 0 1 1 0-128" />
                  </svg>
              </div>
              </td>
              <td>
                <div class="text-content">
                  <h3>Habilitados con GPS</h3>
                  <div class="number">{{ panelVehiculos.Habilitados_con_GPS }}</div>
              </div>
              </td>
            </tr>
          </table>
      </div>
    
      <!-- <div class="card" style="background-color: #ADD8E6;">
        
        <div class="card-body d-flex align-items-center ">
          <table>
            <tr>
              <span style="font-weight: bolder; font-size: 14px;">  Habilitados con GPS </span>
            </tr>
            <tr>
              <span style="font-weight: bolder; font-size: 28px;">{{ panelVehiculos.Habilitados_con_GPS }}</span>
            </tr>
          </table>
        </div>
      </div> -->
    
      </c-col>
    
      <c-col xs="6" sm="3">

        <div class="card card-yellow">
          <table>
            <tr>
              <td width="98" height="98">
                <div class="icon-background">
                  <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 512 512">
                    <path fill="#ffcc00" d="M256 512a256 256 0 1 0 0-512a256 256 0 1 0 0 512m0-384c13.3 0 24 10.7 24 24v112c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24m-32 224a32 32 0 1 1 64 0a32 32 0 1 1-64 0" />
                  </svg>
              </div>
              </td>
              <td>
                <div class="text-content">
                  <h3> Habilitados sin GPS</h3>
                  <div class="number">{{ panelVehiculos.Habilitados_sin_GPS }}</div>
              </div>
              </td>
            </tr>
          </table>
      </div>
    
      <!-- <div class="card" style="background-color: #ADD8E6;">
        <div class="card-body d-flex align-items-center ">
          <table>
            <tr>
              <span style="font-weight: bolder; font-size: 14px;">  Habilitados sin GPS </span>
            </tr>
            <tr>
              <span style="font-weight: bolder; font-size: 28px;"> {{panelVehiculos.Habilitados_sin_GPS}}</span>
            </tr>
          </table>
        </div>
      </div> -->
      </c-col>
    
      
    </c-row>





      <p></p>
      <div class="greenTable" style="width: 100%;">
        
        <table id="tablaProductosPicking" style="width: 100%;"  >
        <thead>
          <tr>
              <th>Razón social</th>
              <th class="sortable" (click)="sortTable(sortOrder)">Patente</th>
              <th>Tipo Vehículo</th>
              <th>Región Disponible</th>
              <!-- <th>Rut</th> -->
              <th>GPS</th>
              <th (click)="sortTableDisponible(sortOrderEstado)" class="sortable">Disponible </th>
              <th (click)="sortTableHabilitado(sortOrderHabilitado)" class="sortable">Habilitado</th>
              <th>Fecha de registro</th>
              <th>Detalle</th>
              <th>Operación</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let vehiculo of vehiculos; let i = index">
            <td>{{vehiculo.Razon_social}}</td>
            <td>{{vehiculo.Ppu}}</td>
            <td>{{ vehiculo.Nombre_tipo_vehiculo }}</td>
            <td>{{ vehiculo.Nombre_region }}</td>
            <td>
              <svg xmlns="http://www.w3.org/2000/svg" width="28px" height="28px" viewBox="0 0 384 512" *ngIf="vehiculo.Gps">
                <path fill="#2eb85c" d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0M192 128a64 64 0 1 1 0 128a64 64 0 1 1 0-128" />
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="28px" height="28px" viewBox="0 0 384 512" *ngIf="!vehiculo.Gps">
                <path fill="#ff0000" d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0M192 128a64 64 0 1 1 0 128a64 64 0 1 1 0-128" />
              </svg>
            </td>
            <!-- <td>{{formatearRUT(vehiculo.Rut)}}</td> -->
            <td>
              <div class="slide-toggle-container">
                <!-- <mat-slide-toggle  [disabled]=" rol == '50' || rol == '75' " [(ngModel)]="vehiculo.Disponible" (change)="cambiarEstadoVehiculo(vehiculo.Id,vehiculo.Ppu)" >  -->
                <mat-slide-toggle  [disabled]="permiso == false" [(ngModel)]="vehiculo.Disponible" (change)="cambiarEstadoVehiculo(vehiculo.Id,vehiculo.Ppu)" > 
                  <!-- <span *ngIf="formVehiculo.value.Estado">Activado</span>
                  <span *ngIf="!formVehiculo.value.Estado">Desactivado</span> -->
                </mat-slide-toggle>
                </div> 
            </td>
            <td *ngIf="vehiculo.Habilitado">
              <svg  xmlns="http://www.w3.org/2000/svg" height="17px" viewBox="0 0 448 512" class="svgT"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/></svg>
            </td>
            <td *ngIf="!vehiculo.Habilitado">
                <svg  xmlns="http://www.w3.org/2000/svg"  height="17px" viewBox="0 0 384 512" class="svgF"><path d="M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"/></svg>
            </td>
            <td>{{vehiculo.Created_at}}</td>
            <td>
              
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" (click)="revisarDatosVehiculo(vehiculo.Ppu)" ><path fill="currentColor" d="M16 8.286C8.454 8.286 2.5 16 2.5 16s5.954 7.715 13.5 7.715c5.77 0 13.5-7.715 13.5-7.715S21.77 8.286 16 8.286zm0 12.52c-2.65 0-4.807-2.156-4.807-4.806S13.35 11.193 16 11.193S20.807 13.35 20.807 16S18.65 20.807 16 20.807zm0-7.612a2.806 2.806 0 1 0 0 5.611a2.806 2.806 0 0 0 0-5.611z"/></svg>

            </td>
            <td>
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512" (click)="toggleLiveCO(vehiculo.Id)">
                <path fill="black" d="M124 166.291v179.418a76 76 0 1 0 32 0V282h152a80.091 80.091 0 0 0 80-80v-36.689a75.983 75.983 0 1 0-32 1.733V202a48.055 48.055 0 0 1-48 48H156v-83.709a76 76 0 1 0-32 0M324 92a44 44 0 1 1 44 44a44.049 44.049 0 0 1-44-44M184 420a44 44 0 1 1-44-44a44.049 44.049 0 0 1 44 44M140 48a44 44 0 1 1-44 44a44.049 44.049 0 0 1 44-44" />
              </svg>
            </td>
            <!-- <td>{{colab.Created_at}}</td> -->
          </tr>
          <tr *ngIf="vehiculos.length==0">
            <td colspan="9" align="center">No hay registros</td>
          </tr>
       
        </tbody>
        </table>
      </div>
      <p></p>
      <button class="btn btn-success" (click)="descargarDatosVehiculos()">Descargar</button>
     &nbsp;&nbsp;
      <button cButton style="background-color: #f1948a; border: #f1948a; color: #000000;" (click)="descargarExcelATHela()" >
        <svg class="dExcel" xmlns="http://www.w3.org/2000/svg"  height="1.5em" viewBox="0 0 384 512">
            <path d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM155.7 250.2L192 302.1l36.3-51.9c7.6-10.9 22.6-13.5 33.4-5.9s13.5 22.6 5.9 33.4L221.3 344l46.4 66.2c7.6 10.9 5 25.8-5.9 33.4s-25.8 5-33.4-5.9L192 385.8l-36.3 51.9c-7.6 10.9-22.6 13.5-33.4 5.9s-13.5-22.6-5.9-33.4L162.7 344l-46.4-66.2c-7.6-10.9-5-25.8 5.9-33.4s25.8-5 33.4 5.9z"/>
        </svg> Descarga AT
    </button>

      <p></p>
      <h2>Observaciones <svg (click)="toggleLiveIconos()" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 256 256"><path fill="currentColor" d="M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm0 168a12 12 0 1 1 12-12a12 12 0 0 1-12 12Zm8-48.72v.72a8 8 0 0 1-16 0v-8a8 8 0 0 1 8-8c13.23 0 24-9 24-20s-10.77-20-24-20s-24 9-24 20v4a8 8 0 0 1-16 0v-4c0-19.85 17.94-36 40-36s40 16.15 40 36c0 17.38-13.76 31.93-32 35.28Z"/></svg>
      </h2> 
      <p></p>

      <c-row>
        <c-col xs="6" sm="3">

          <div class="card card-green">
            <table>
              <tr>
                <td width="98" height="98">
                  <div class="icon-background">
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50"  viewBox="0 0 1792 1280" >
                      <path fill="#5cb85c" d="M1664 704q-152-236-381-353q61 104 61 225q0 185-131.5 316.5T896 1024T579.5 892.5T448 576q0-121 61-225q-229 117-381 353q133 205 333.5 326.5T896 1152t434.5-121.5T1664 704M944 320q0-20-14-34t-34-14q-125 0-214.5 89.5T592 576q0 20 14 34t34 14t34-14t14-34q0-86 61-147t147-61q20 0 34-14t14-34m848 384q0 34-20 69q-140 230-376.5 368.5T896 1280t-499.5-139T20 773Q0 738 0 704t20-69q140-229 376.5-368T896 128t499.5 139T1772 635q20 35 20 69" />
                    </svg>
                </div>
                </td>
                <td>
                  <div class="text-content">
                    <h3>Observados</h3>
                    <div class="number">{{panelVehiculosObs.Observados}}</div>
                </div>
                </td>
              </tr>
            </table>
        </div>
          
        <!-- <div class="card" style="background-color: #98ff98;">
          <div class="card-body d-flex align-items-center ">
            <table>
              <tr>
                <span style="font-weight: bolder; font-size: 14px;"> Observados </span>
              </tr>
              <tr>
                <span style="font-weight: bolder; font-size: 28px;">{{panelVehiculosObs.Observados}}</span>
              </tr>
            </table>
          </div>
        </div>
       -->
      
        </c-col>
      
        <c-col xs="6" sm="3">
      


          <div class="card card-blue">
            <table>
              <tr>
                <td width="98" height="98">
                  <div class="icon-background">
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 576 512">
                      <path fill="#3399ff" d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v38.6c-73.9 20.9-128 88.8-128 169.4c0 59.1 29.1 111.3 73.7 143.3c-3.2.5-6.4.7-9.7.7H64c-35.3 0-64-28.7-64-64zm384 64H256V0zm48 96a144 144 0 1 1 0 288a144 144 0 1 1 0-288m59.3 107.3c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l36.7 36.7l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0l36.7-36.7l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368z" />
                    </svg>
                </div>
                </td>
                <td>
                  <div class="text-content">
                    <h3>Vencidos</h3>
                    <div class="number">{{panelVehiculosObs.Vencidos}}</div>
                </div>
                </td>
              </tr>
            </table>
        </div>
        <!-- <div class="card" style="background-color: #ADD8E6;">
          <div class="card-body d-flex align-items-center ">
            <table>
              <tr>
                <span style="font-weight: bolder; font-size: 14px;">  Vencidos  </span>
              </tr>
              <tr>
                <span style="font-weight: bolder; font-size: 28px;">{{panelVehiculosObs.Vencidos}}</span>
              </tr>
            </table>
          </div>
        </div> -->
      
        </c-col>
      
        <c-col xs="6" sm="3">

          <div class="card card-blue">
            <table>
              <tr>
                <td width="98" height="98">
                  <div class="icon-background">
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50"  viewBox="0 0 448 512">
                      <path fill="#3399ff" d="M128 0c17.7 0 32 14.3 32 32v32h128V32c0-17.7 14.3-32 32-32s32 14.3 32 32v32h48c26.5 0 48 21.5 48 48v48H0v-48c0-26.5 21.5-48 48-48h48V32c0-17.7 14.3-32 32-32M0 192h448v272c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16m128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16m144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16m144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16" />
                    </svg>
                </div>
                </td>
                <td>
                  <div class="text-content">
                    <h3>Por Vencer</h3>
                    <div class="number">{{panelVehiculosObs.por_Vencer}}</div>
                </div>
                </td>
              </tr>
            </table>
        </div>
      
        <!-- <div class="card" style="background-color: #ADD8E6;">
          <div class="card-body d-flex align-items-center ">
            <table>
              <tr>
                <span style="font-weight: bolder; font-size: 14px;">  Por Vencer </span>
              </tr>
              <tr>
                <span style="font-weight: bolder; font-size: 28px;">{{ panelVehiculosObs.por_Vencer }}</span>
              </tr>
            </table>
          </div>
        </div> -->
      
        </c-col>
      
        <c-col xs="6" sm="3">

          <div class="card card-blue">
            <table>
              <tr>
                <td width="98" height="98">
                  <div class="icon-background">
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 576 512">
                      <path fill="#3399ff" d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v38.6c-73.9 20.9-128 88.8-128 169.4c0 59.1 29.1 111.3 73.7 143.3c-3.2.5-6.4.7-9.7.7H64c-35.3 0-64-28.7-64-64zm384 64H256V0zm48 96a144 144 0 1 1 0 288a144 144 0 1 1 0-288m0 240a24 24 0 1 0 0-48a24 24 0 1 0 0 48m-64-142.4v6.4c0 8.8 7.2 16 16 16s16-7.2 16-16v-6.4c0-5.3 4.3-9.6 9.6-9.6h40.5c7.7 0 13.9 6.2 13.9 13.9c0 5.2-2.9 9.9-7.4 12.3l-32 16.8c-5.3 2.8-8.6 8.2-8.6 14.2V384c0 8.8 7.2 16 16 16s16-7.2 16-16v-5.1l23.5-12.3C486.6 358.7 496 343 496 326c0-25.4-20.6-45.9-45.9-45.9h-40.5c-23 0-41.6 18.6-41.6 41.6z" />
                    </svg>
                </div>
                </td>
                <td>
                  <div class="text-content">
                    <h3>Incompletos</h3>
                    <div class="number">{{panelVehiculosObs.Incompletos}}</div>
                </div>
                </td>
              </tr>
            </table>
        </div>
      
        <!-- <div class="card" style="background-color: #ADD8E6;">
          <div class="card-body d-flex align-items-center ">
            <table>
              <tr>
                <span style="font-weight: bolder; font-size: 14px;">  Incompletos </span>
              </tr>
              <tr>
                <span style="font-weight: bolder; font-size: 28px;"> {{panelVehiculosObs.Incompletos}}</span>
              </tr>
            </table>
          </div>
        </div> -->
        </c-col>
      
        
      </c-row>
  
      <p></p>
      <div *ngIf="ObservacionVehiculos.length != 0" class="greenTable" style="width: 100%;">
        
        <table id="tablaProductosPicking" style="width: 100%;">
            <thead>
                <tr>
                    <th>Estado</th>
                    <th>PPU</th>
                    <th>Razón Social</th>
                    <th>RUT</th>
                    <th>Celular</th>
                    <th>Permiso Circulación</th>
                    <th>SOAP</th>
                    <th>Revisión Técnica</th>
                    <th>GPS</th>
                </tr>
            </thead>
            <tbody>
              <tr *ngFor="let obs of ObservacionVehiculos">
                <td class="indicator">

                  <span *ngIf="obs.Codigo_retorno == 1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1536">
                      <path fill="green" d="M1284 606q0-28-18-46l-91-90q-19-19-45-19t-45 19L677 877L451 651q-19-19-45-19t-45 19l-91 90q-18 18-18 46q0 27 18 45l362 362q19 19 45 19q27 0 46-19l543-543q18-18 18-45m252 162q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768" />
                    </svg>
                  </span>
                  
                  <span *ngIf="obs.Codigo_retorno == 2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1536">
                      <path fill="red" d="M1149 994q0-26-19-45L949 768l181-181q19-19 19-45q0-27-19-46l-90-90q-19-19-46-19q-26 0-45 19L768 587L587 406q-19-19-45-19q-27 0-46 19l-90 90q-19 19-19 46q0 26 19 45l181 181l-181 181q-19 19-19 45q0 27 19 46l90 90q19 19 46 19q26 0 45-19l181-181l181 181q19 19 45 19q27 0 46-19l90-90q19-19 19-46m387-226q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768" />
                    </svg>
                  </span>

                  <span *ngIf="obs.Codigo_retorno == 3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1856 1664">
                      <path fill="yellow" d="M1056 1375v-190q0-14-9.5-23.5t-22.5-9.5H832q-13 0-22.5 9.5T800 1185v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5m-2-374l18-459q0-12-10-19q-13-11-24-11H818q-11 0-24 11q-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5m-14-934l768 1408q35 63-2 126q-17 29-46.5 46t-63.5 17H160q-34 0-63.5-17T50 1601q-37-63-2-126L816 67q17-31 47-49t65-18t65 18t47 49" />
                    </svg>
                  </span>
                  
                  <span *ngIf="obs.Codigo_retorno == 4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1536">
                      <path fill="gray" d="M896 1248v-192q0-14-9-23t-23-9H672q-14 0-23 9t-9 23v192q0 14 9 23t23 9h192q14 0 23-9t9-23m256-672q0-88-55.5-163T958 297t-170-41q-243 0-371 213q-15 24 8 42l132 100q7 6 19 6q16 0 25-12q53-68 86-92q34-24 86-24q48 0 85.5 26t37.5 59q0 38-20 61t-68 45q-63 28-115.5 86.5T640 892v36q0 14 9 23t23 9h192q14 0 23-9t9-23q0-19 21.5-49.5T972 829q32-18 49-28.5t46-35t44.5-48t28-60.5t12.5-81m384 192q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768" />
                    </svg>
                  </span>
                  
                  <span *ngIf="obs.Codigo_retorno == 5">

                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1664 1792">
                      <path fill="skyblue" d="M128 1664h288v-288H128zm352 0h320v-288H480zm-352-352h288V992H128zm352 0h320V992H480zM128 928h288V640H128zm736 736h320v-288H864zM480 928h320V640H480zm768 736h288v-288h-288zm-384-352h320V992H864zM512 448V160q0-13-9.5-22.5T480 128h-64q-13 0-22.5 9.5T384 160v288q0 13 9.5 22.5T416 480h64q13 0 22.5-9.5T512 448m736 864h288V992h-288zM864 928h320V640H864zm384 0h288V640h-288zm32-480V160q0-13-9.5-22.5T1248 128h-64q-13 0-22.5 9.5T1152 160v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5m384-64v1280q0 52-38 90t-90 38H128q-52 0-90-38t-38-90V384q0-52 38-90t90-38h128v-96q0-66 47-113T416 0h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90" />
                    </svg>

                  </span>


                </td>
                <td>{{obs.Ppu}}</td>
                <td>{{obs.Razon_social}}</td>
                <td>{{obs.Rut}}</td>
                <td>{{obs.Celular}}</td>
                <td>{{obs.Permiso_circulacion_fvenc}}</td>
                <td>{{obs.Soap_fvenc}}</td>
                <td>{{obs.Revision_tecnica_fvenc}}</td>
                <td>

                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 384 512" *ngIf="obs.Gps">
                    <path fill="#2eb85c" d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0M192 128a64 64 0 1 1 0 128a64 64 0 1 1 0-128" />
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 384 512" *ngIf="!obs.Gps">
                    <path fill="#ff0000" d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0M192 128a64 64 0 1 1 0 128a64 64 0 1 1 0-128" />
                  </svg>
                </td>
              </tr>
            </tbody>
        </table>

      </div>

      <p></p>
        
        <button *ngIf="ObservacionVehiculos.length != 0" class="btn btn-success" (click)="descargarObservacionVehiculos()">Descargar</button>

        <p></p>
          

      <c-modal id="liveCOModal" [visible]="visibleCO" (visibleChange)="handleLiveCOChange($event)" size="lg">
        <c-modal-header>
          <h5 cModalTitle>Centro Operación {{Patente}} </h5>
          <button (click)="toggleLiveCO(0)" cButtonClose></button>
        </c-modal-header>
        <c-modal-body>
              
              <c-row *ngIf="permiso">
                <!-- <c-row *ngIf="['72','50','75'].includes(rol+'') == false"> -->
                <p></p>
                <c-col >
                  <select id="Region" cSelect  class="form-control" [(ngModel)]="idOperacion" (change)="buscarPorModalidadOperacion()">
                    <option [value]="0" selected>Seleccione una operación</option>
                    <option *ngFor="let op of modalidadOperacion"  [value]="op.id"  >{{op.nombre}}</option>
                  </select>
                </c-col>
                <c-col >
                  <select id="Region" cSelect  class="form-control" [(ngModel)]="IdCentroOperacion" (click)="seleccionarCentroOperacion()">
                    <option [value]="0" selected>Seleccione centro operación</option>
                    <option *ngFor="let op of centroOperacionLista"  [value]="op.Id"  >{{op.Centro}}</option>
                  </select>
                </c-col>
              </c-row>
                <p></p>
              <c-row>
                <c-col >

                </c-col>
                <c-col >
                  <!--  -->
                  <button *ngIf="IdCentroOperacion != 0 && isAsignado" cButton color="secondary" (click)="asignarOpVehiculo(idOperacion, IdCentroOperacion)" >
                    Asignar
                  </button>  
                </c-col>
              </c-row>
              <c-row>
                <c-col >
                  <p></p>
                  <!-- <div class="greenTable" style="width: 100%;">
                
                    <table id="tablaProductosPicking" style="width: 100%;" *ngIf="idOperacion != 0" >
                    <thead>
                        <th>Operación</th>
                        <th>Centro</th>
                        <th>Región</th>
                    </thead>
                    <tbody>
    
                    <tr *ngFor="let co of centroOperacion; let i = index">
                        <td >{{ convertirOperacion(co.Id_op) }}</td>
                        <td >{{co.Centro}}</td>
                        <td >{{co.Region}}</td>
                    </tr>
                    <tr *ngIf="centroOperacion.length == 0">
                      <td colspan="4">
                        No hay registros
                      </td>
                    </tr>
                </tbody>
                </table>
                </div> -->

                <p></p>
                <h3>Centros Asignados</h3>

                <div class="greenTable" style="width: 100%;">
                
                  <table id="tablaProductosPicking" style="width: 100%;"  >
                  <thead>
                      <th>Operación</th>
                      <th>Centro</th>
                      <th>Región</th>
                      <th></th>
                  </thead>
                  <tbody>
  
                  <tr *ngFor="let co of centroOperacionAsignado; let i = index">
                      <td *ngIf="co.Estado">{{ convertirOperacion(co.Id_op) }}</td>
                      <td *ngIf="co.Estado">{{co.Centro}}</td>
                      <td *ngIf="co.Estado">{{co.Region}}</td>
                      <td *ngIf="co.Estado && permiso">
                        
                        <svg xmlns="http://www.w3.org/2000/svg" (click)="eliminarOpAsignadaVehiculo(co.Id_ppu_op)"  width="24" height="24" viewBox="0 0 24 24"><path fill="red" d="M6.187 8h11.625l-.695 11.125A2 2 0 0 1 15.121 21H8.879a2 2 0 0 1-1.996-1.875L6.187 8zM19 5v2H5V5h3V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h3zm-9 0h4V4h-4v1z"/></svg>
 
                        
                      </td>
                      <!-- <td *ngIf="!co.Estado">
                        <button cButton color="secondary" (click)="asignarOpVehiculo(co.Id, co.Id_op)">
                          seleccionar
                        </button>  
                      </td> -->
                  </tr>
                  <tr *ngIf="centroOperacionAsignado.length == 0">
                    <td colspan="4">
                      No hay registros
                    </td>
                  </tr>
              </tbody>
              </table>
              </div>
                </c-col>
              </c-row>

              
              
            <p></p>
            
            
        </c-modal-body>
        <c-modal-footer>
          <button (click)="toggleLiveCO(0)" cButton color="secondary">
            Cerrar
          </button>
        </c-modal-footer>
      </c-modal>



      <c-modal id="liveDemoModal" [visible]="visibleIconos" (visibleChange)="handleLiveIconosChange($event)">
        <c-modal-header>
          <h5 cModalTitle>Simbolos</h5>
          <button (click)="toggleLiveIconos()" cButtonClose></button>
        </c-modal-header>
        <c-modal-body>
          <table>
            <thead>
              <th>Icono</th>
              <th>Descripción</th>
            </thead>
            <tr>
              <td>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1536">
                  <path fill="green" d="M1284 606q0-28-18-46l-91-90q-19-19-45-19t-45 19L677 877L451 651q-19-19-45-19t-45 19l-91 90q-18 18-18 46q0 27 18 45l362 362q19 19 45 19q27 0 46-19l543-543q18-18 18-45m252 162q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768" />
                </svg>
            </td>
              <td>OK</td>
            </tr>
            <tr>
              <td>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1536">
                  <path fill="red" d="M1149 994q0-26-19-45L949 768l181-181q19-19 19-45q0-27-19-46l-90-90q-19-19-46-19q-26 0-45 19L768 587L587 406q-19-19-45-19q-27 0-46 19l-90 90q-19 19-19 46q0 26 19 45l181 181l-181 181q-19 19-19 45q0 27 19 46l90 90q19 19 46 19q26 0 45-19l181-181l181 181q19 19 45 19q27 0 46-19l90-90q19-19 19-46m387-226q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768" />
                </svg>
              </td>
              <td>No OK</td>
            </tr>
            <tr>
              <td>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1856 1664">
                  <path fill="yellow" d="M1056 1375v-190q0-14-9.5-23.5t-22.5-9.5H832q-13 0-22.5 9.5T800 1185v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5m-2-374l18-459q0-12-10-19q-13-11-24-11H818q-11 0-24 11q-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5m-14-934l768 1408q35 63-2 126q-17 29-46.5 46t-63.5 17H160q-34 0-63.5-17T50 1601q-37-63-2-126L816 67q17-31 47-49t65-18t65 18t47 49" />
                </svg>
              </td>
              <td>Advertencia</td>
            </tr>
            <tr>
              <td>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1536">
                  <path fill="gray" d="M896 1248v-192q0-14-9-23t-23-9H672q-14 0-23 9t-9 23v192q0 14 9 23t23 9h192q14 0 23-9t9-23m256-672q0-88-55.5-163T958 297t-170-41q-243 0-371 213q-15 24 8 42l132 100q7 6 19 6q16 0 25-12q53-68 86-92q34-24 86-24q48 0 85.5 26t37.5 59q0 38-20 61t-68 45q-63 28-115.5 86.5T640 892v36q0 14 9 23t23 9h192q14 0 23-9t9-23q0-19 21.5-49.5T972 829q32-18 49-28.5t46-35t44.5-48t28-60.5t12.5-81m384 192q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768" />
                </svg>
              </td>
              <td>Falta Información</td>
            </tr>
            <tr>
              <td>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1664 1792">
                  <path fill="skyblue" d="M128 1664h288v-288H128zm352 0h320v-288H480zm-352-352h288V992H128zm352 0h320V992H480zM128 928h288V640H128zm736 736h320v-288H864zM480 928h320V640H480zm768 736h288v-288h-288zm-384-352h320V992H864zM512 448V160q0-13-9.5-22.5T480 128h-64q-13 0-22.5 9.5T384 160v288q0 13 9.5 22.5T416 480h64q13 0 22.5-9.5T512 448m736 864h288V992h-288zM864 928h320V640H864zm384 0h288V640h-288zm32-480V160q0-13-9.5-22.5T1248 128h-64q-13 0-22.5 9.5T1152 160v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5m384-64v1280q0 52-38 90t-90 38H128q-52 0-90-38t-38-90V384q0-52 38-90t90-38h128v-96q0-66 47-113T416 0h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90" />
                </svg>
              </td>
              <td>Próximo Vencimiento</td>
            </tr>
          </table>
        </c-modal-body>
        <c-modal-footer>
          <button (click)="toggleLiveIconos()" cButton color="secondary">
            Cerrar
          </button>
        </c-modal-footer>
      </c-modal>