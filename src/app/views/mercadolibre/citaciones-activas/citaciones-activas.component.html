<div class="container mt-5">
    <h4 class="mb-4">Gestión de Citaciones de Vehículos</h4>

    <!-- Selector de Fecha y Botón Nueva Citación -->
        <div class="form-date mb-3">
            <label for="fechaCitaciones" class="mr-3">Seleccionar Fecha:</label>
            <input type="date" class="from-control" id="fechaCitaciones"  >
        </div>
    <!-- Tabla de Citaciones -->
</div>



<div>
    <table >
        <thead >
            <th width="20%">Operación</th>
            <th  width="20%">Centro de operación</th>
            <th  width="20%">Región</th>
            <th  width="30%">Patentes</th>
            <th  width="10%">Detalle</th>
        </thead>
        <tbody *ngFor="let citacion of citacionSupervisores">
            <td class="fas fa-calendar-plus">
                {{citacion.Nombre}}
            </td>
            <td id="nombre_CopTd"> {{citacion.Centro}}</td>
            <td>{{citacion.Region}}</td>
            <td >
                <table>
                    <tr *ngFor="let detalle of citacion.Detalles ">
                        <td>
                            {{detalle.p_avance}} %
                            <c-progress>
                                <c-progress-bar [value]="detalle.p_avance" class="overflow-visible text-dark px-2" color="success">
                                
                                </c-progress-bar>
                              </c-progress>
                              <br>
                              <!-- {{detalle.tipo_vehiculo}}  -->

                              <svg *ngIf="detalle.tipo_vehiculo == 1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <path fill="black" d="M18 18.5a1.5 1.5 0 0 1-1.5-1.5a1.5 1.5 0 0 1 1.5-1.5a1.5 1.5 0 0 1 1.5 1.5a1.5 1.5 0 0 1-1.5 1.5m1.5-9l1.96 2.5H17V9.5m-11 9A1.5 1.5 0 0 1 4.5 17A1.5 1.5 0 0 1 6 15.5A1.5 1.5 0 0 1 7.5 17A1.5 1.5 0 0 1 6 18.5M20 8h-3V4H3c-1.11 0-2 .89-2 2v11h2a3 3 0 0 0 3 3a3 3 0 0 0 3-3h6a3 3 0 0 0 3 3a3 3 0 0 0 3-3h2v-5z" />
                              </svg>
                  
                              <svg *ngIf="detalle.tipo_vehiculo == 2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <path fill="black" d="M16 6h-5.5v4H1v5h2a3 3 0 0 0 3 3a3 3 0 0 0 3-3h6a3 3 0 0 0 3 3a3 3 0 0 0 3-3h2v-3c0-1.11-.89-2-2-2h-2zm-4 1.5h3.5l1.96 2.5H12zm-6 6A1.5 1.5 0 0 1 7.5 15A1.5 1.5 0 0 1 6 16.5A1.5 1.5 0 0 1 4.5 15A1.5 1.5 0 0 1 6 13.5m12 0a1.5 1.5 0 0 1 1.5 1.5a1.5 1.5 0 0 1-1.5 1.5a1.5 1.5 0 0 1-1.5-1.5a1.5 1.5 0 0 1 1.5-1.5" />
                              </svg>
                  
                              <svg *ngIf="detalle.tipo_vehiculo == 3" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <path fill="black" d="M3 7c-1.11 0-2 .89-2 2v8h2a3 3 0 0 0 3 3a3 3 0 0 0 3-3h6a3 3 0 0 0 3 3a3 3 0 0 0 3-3h2v-4c0-1.11-.89-2-2-2l-3-4zm12 1.5h2.5l1.96 2.5H15zm-9 7A1.5 1.5 0 0 1 7.5 17A1.5 1.5 0 0 1 6 18.5A1.5 1.5 0 0 1 4.5 17A1.5 1.5 0 0 1 6 15.5m12 0a1.5 1.5 0 0 1 1.5 1.5a1.5 1.5 0 0 1-1.5 1.5a1.5 1.5 0 0 1-1.5-1.5a1.5 1.5 0 0 1 1.5-1.5" />
                              </svg>
                  
                              <svg *ngIf="detalle.tipo_vehiculo == 4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512">
                                <path fill="black" d="m475.656 223.142l-90.272-13.908l-55.013-89.87a32.07 32.07 0 0 0-27.548-15.291L72.265 105.91A32.018 32.018 0 0 0 42.2 127.684L16 205.375V384h55.006a68 68 0 0 0 129.988 0h102.012a68 68 0 0 0 129.988 0H496V246.862a23.873 23.873 0 0 0-20.344-23.72M224 136.7l79.078-.63l44.1 72.047L224 208.074Zm-151.479 1.208L192 136.956v71.107l-143.119-.051ZM136 400a36 36 0 1 1 36-36a36.04 36.04 0 0 1-36 36m232 0a36 36 0 1 1 36-36a36.04 36.04 0 0 1-36 36m96-48h-29.082a67.982 67.982 0 0 0-133.836 0h-98.164a67.982 67.982 0 0 0-133.836 0H48V240.026l330.526.529L464 253.724Z" />
                              </svg>
                  
                              <svg *ngIf="detalle.tipo_vehiculo == 5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <path fill="black" d="M18 18.5a1.5 1.5 0 0 1-1.5-1.5a1.5 1.5 0 0 1 1.5-1.5a1.5 1.5 0 0 1 1.5 1.5a1.5 1.5 0 0 1-1.5 1.5m1.5-9l1.96 2.5H17V9.5m-11 9A1.5 1.5 0 0 1 4.5 17A1.5 1.5 0 0 1 6 15.5A1.5 1.5 0 0 1 7.5 17A1.5 1.5 0 0 1 6 18.5M20 8h-3V4H3c-1.11 0-2 .89-2 2v11h2a3 3 0 0 0 3 3a3 3 0 0 0 3-3h6a3 3 0 0 0 3 3a3 3 0 0 0 3-3h2v-5z" />
                              </svg>
                  
                              <svg *ngIf="detalle.tipo_vehiculo == 6" width="32" height="32" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 199.19 86.29"><path d="M149.12,73.05a13.24,13.24,0,1,0,13.23-13.23A13.25,13.25,0,0,0,149.12,73.05Zm4.9,0a8.33,8.33,0,1,1,8.33,8.33A8.34,8.34,0,0,1,154,73.05Z"/><path d="M162.35,67.71A5.34,5.34,0,1,1,157,73.05,5.35,5.35,0,0,1,162.35,67.71Z"/>
                                <path d="M44.67,67.71a5.34,5.34,0,1,1-5.34,5.34A5.35,5.35,0,0,1,44.67,67.71Z"/><path d="M.24,60.38v2.43a1.5,1.5,0,0,0,1.5,1.5h33a13.24,13.24,0,1,0,19.82,0H65.24v6.53a1.52,1.52,0,0,0,1.51,1.51h30.5V66.72a4.5,4.5,0,0,1,4.49-4.5h23.57a4.51,4.51,0,0,1,4.5,4.5v5.63h15.55a1.51,1.51,0,0,0,1.5-1.51V61h0V54.23a1.49,1.49,0,0,0,.69,1.26l4.86,3.12a1.52,1.52,0,0,0,1.59,0,16.67,16.67,0,0,1,23,6.53A17,17,0,0,1,179,71.8a1.49,1.49,0,0,0,1.49,1.38h15.47a2.93,2.93,0,0,0,2.3-1.07,5.57,5.57,0,0,0,1.2-3.54v-4.1s0-3.18-2.36-3.95V43.06a22,22,0,0,0-2.16-9.55C191.2,25.71,183.54,11,178.72,11H150.08s-3.22-.11-3.22,7.5V0h-5V53.87H1.64v5h.1A1.51,1.51,0,0,0,.24,60.38ZM192.11,49.93a.49.49,0,0,1,.6-.48,5.53,5.53,0,0,1,2,.88,1,1,0,0,1,.41.81v8.35a.49.49,0,0,1-.49.49h-2a.49.49,0,0,1-.5-.49ZM159.2,32.84a3.78,3.78,0,0,1-2.46-3.75V16.43s0-1.61,2.79-1.61h13.73s4.18-.11,6.43.86,11.43,18.4,11.43,23.71c0,3-1.7,2.79-3.12,2.38Zm-6,12.52c0-2,1.06-1.77,1.06-1.77s4.57-.3,6.06,1.69-.45,1.93-.45,1.93h-5.39S153.17,47.33,153.17,45.36ZM36.35,73.05a8.33,8.33,0,1,1,8.32,8.33A8.33,8.33,0,0,1,36.35,73.05Z"/><rect x="99.75" y="64.72" width="27.56" height="12.24" rx="1.99"/>
                              </svg>
                  
                              <svg *ngIf="detalle.tipo_vehiculo == 7" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <path fill="black" d="M18 4h-5v9H1v4h2c0 .83.3 1.53.89 2.13c.61.59 1.3.87 2.11.87s1.5-.28 2.11-.87c.59-.6.89-1.3.89-2.13h5.5c0 .83.28 1.53.88 2.13c.59.59 1.29.87 2.12.87c.8 0 1.5-.28 2.09-.87c.6-.6.91-1.3.91-2.13H23v-7zM7.08 18.07c-.28.3-.64.43-1.08.43s-.8-.13-1.08-.43s-.42-.65-.42-1.07c0-.39.14-.74.42-1.04s.64-.46 1.08-.46s.8.16 1.08.46s.42.65.42 1.04c0 .42-.14.77-.42 1.07m11.46 0c-.3.3-.65.43-1.04.43c-.42 0-.77-.13-1.07-.43S16 17.42 16 17c0-.39.13-.74.43-1.04s.65-.46 1.07-.46c.39 0 .74.16 1.04.46s.46.65.46 1.04c0 .42-.16.77-.46 1.07M15 10V6h2.06l3.33 4z" />
                              </svg>
                  
                              <svg *ngIf="detalle.tipo_vehiculo == 8" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <path fill="black" d="M6 15v2H3V8l2.45-7h13.1L21 8v9h-3v-2zm-.2-9h12.4l-1.05-3H6.85zm1.7 6q.625 0 1.063-.437T9 10.5t-.437-1.062T7.5 9t-1.062.438T6 10.5t.438 1.063T7.5 12m9 0q.625 0 1.063-.437T18 10.5t-.437-1.062T16.5 9t-1.062.438T15 10.5t.438 1.063T16.5 12M13 23l-6-3h4v-2l6 3h-4z" />
                              </svg>
                  
                              <svg *ngIf="detalle.tipo_vehiculo == 9" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="32" height="32">
                                <metadata> </metadata>
                                <g><g><g><path fill="#000000" d="M158.7,87.6C135,88.2,119.3,90.2,109,94c-8.9,3.3-23.4,10.6-36.7,18.5c-6.1,3.6-6.1,3.6-10.4,4c-15.9,1.2-36.6,7.2-44.2,12.7c-1.6,1.2-3.6,4.4-3.6,5.8c0,0.6-0.3,1-0.7,1c-0.3,0-1.2,0.4-1.8,0.9c-2.2,1.7-2.3,8.4-0.1,9.4c1.1,0.5,1.1,0.7,1.1,5.7c0,4.2,0.1,5.2,0.8,5.4c0.9,0.4,17.5,0.4,19.4,0c1.4-0.3,1.4-0.3,1-2.7c-0.6-3.4,0.3-8.4,2-12.1c3.9-8.2,13.8-13.4,22.5-11.9c6.3,1.1,12.9,5.7,15.7,10.8c2.4,4.3,3.3,10.4,2.3,14.8l-0.4,1.8h48.9h48.9l-0.4-1.8c-2.6-11.4,5.9-23.6,18.1-25.6c8.8-1.5,18.4,3.6,22.4,11.9c1.6,3.3,2.7,8.7,2.3,10.9c-0.2,1.1-0.1,1.4,0.6,1.4c0.4,0,5.7-0.3,11.6-0.7c6-0.4,11.4-0.7,12.2-0.7c1.1,0,1.3-0.2,1.3-1.6c0-1.3,0.3-1.8,1.6-2.6c2-1.2,2.9-3.3,2.8-6.4c0-1.8-0.3-2.5-1.2-3.2c-0.6-0.5-1.4-1.1-1.6-1.3c-0.4-0.4-0.6-2.4-0.6-7c0-14.5-2.2-21.8-10.2-34.5l-2.5-4l-6.5-1c-20-3.2-25.4-3.9-34-4.1c-4.8-0.1-10.7-0.2-13.2-0.3C173.7,87.4,165.8,87.5,158.7,87.6z M171.2,95.3c0.6,0.4,1.9,2.6,3,5.2c1.9,4.4,2,4.5,1.8,9.3l-0.1,4.8l-17,1.3c-9.3,0.7-17,1.2-17.1,1c-0.4-0.4,0.9-19.6,1.4-20.5c0.6-1.1,1.3-1.3,9.1-1.8C161.2,94.1,169.8,94.4,171.2,95.3z M198.8,95.2c9.5,0.3,14.9,0.8,15.8,1.1c1,0.4,3,2.6,6.7,7.8c2.9,4,5.2,7.4,5.2,7.8s-0.3,0.8-0.6,1.1c-0.6,0.4-40.7,2.3-41.1,1.9c-0.4-0.4-9.2-19.8-9.2-20.3c0-0.3,1.6-0.4,4.4-0.2C182.4,94.5,190.8,94.9,198.8,95.2z M229.9,98.2c3.2,4.2,9.7,17.5,8.9,18.3c-0.7,0.7-2.7-0.7-4.9-3.4c-4.4-5.5-10.3-13.9-10.3-14.9c0-1.2,2-2.5,3.5-2.4C227.7,95.8,228.9,96.9,229.9,98.2z M136.9,96.8c0.1,0.4-0.6,5.2-1.7,10.8l-2,10.1l-8.5,0.3c-4.7,0.1-13.1,0.4-18.7,0.5l-10.3,0.2v-4.9v-4.9l2.9-2.2c8-5.8,14.4-8.1,27.4-9.8C132.8,95.9,136.5,95.9,136.9,96.8z"/><path fill="#000000" d="M49.5,136.5c-2.7,1-3.2,1.3-5.7,3.5c-7,6.4-6.9,17.7,0.2,24.3c3.3,3,6.7,4.3,11.1,4.3c9.7,0,16.7-7.1,16.7-16.8c0-6.2-3.9-12.1-9.6-14.7C58.6,135.4,53.2,135.2,49.5,136.5z M61.3,142.9c1.1,0.8,2.6,2.5,3.4,3.8c1.2,1.9,1.4,2.7,1.4,5.4c-0.1,11.7-15.5,15.5-20.7,5.1c-2.8-5.6-0.5-12.3,5.2-15c1.4-0.7,2.7-0.8,5.3-0.8C58.8,141.5,59.6,141.7,61.3,142.9z"/><path fill="#000000" d="M51,146.3c-0.1,0.4,0,1.2,0.3,1.6c0.7,1.2-0.6,3.3-2.1,3.3c-0.6,0-1.2,0.3-1.3,0.6c-0.4,1.1,0.1,1.8,1.5,1.8c1.7,0,2.8,1.7,2,3.2c-1,1.9,1,2.8,2.2,1c0.3-0.5,1.1-0.9,1.7-0.9c0.7,0,1.4,0.4,1.7,0.9c0.7,1.1,2.2,1.2,2.5,0.2c0.2-0.4,0-1-0.3-1.4c-0.9-1.1,0.1-2.9,1.9-3.3c1.2-0.2,1.5-0.5,1.3-1.3c-0.1-0.8-0.5-1.1-1.5-1.2c-1.6-0.2-2.3-1.5-1.9-3.3c0.4-1.9-1-2.6-2.1-1.1c-0.9,1.4-3.2,1.4-3.9,0.1C52.6,145.3,51.4,145.2,51,146.3z"/><path fill="#000000" d="M189,136.5c-4.1,1.5-7.2,4.2-9.5,8.3c-1.2,2.1-1.3,2.8-1.3,7.3c0,4.8,0,5.1,1.6,7.9c1.7,3.2,4,5.4,7.6,7.2c1.8,1,2.8,1.1,7.1,1.1c4.4,0,5.2-0.1,7.3-1.2c3.1-1.7,6.1-4.8,7.7-8c1.1-2.3,1.3-3.2,1.3-7.1c0-3.6-0.2-4.9-1-6.7c-1.4-3.1-4.9-6.7-8.1-8.2C198.2,135.5,192.6,135.2,189,136.5z M199.1,142.2c4.1,2.1,6.2,5.5,6.2,10.1c0,5.2-3.3,9.5-8.5,10.7c-6,1.5-12.4-3-13.4-9.3c-0.7-4.3,2-9.4,6-11.4C192.1,140.9,196.7,140.9,199.1,142.2z"/><path fill="#000000" d="M190.3,146.2c-0.4,0.5-0.4,0.9,0,1.6c0.9,1.4-0.1,3.3-1.8,3.5c-1.7,0.2-1.9,1.9-0.1,2.2c1.6,0.2,2.9,1.9,2.3,3.1c-1,1.9,0.9,3.1,2.1,1.3c0.8-1.3,2.9-1.2,3.8,0.1c1.1,1.6,2.4,0.8,2.1-1.2c-0.4-1.9,0-3.1,1.1-3.1c0.5,0,1.2-0.3,1.7-0.7c0.8-0.6,0.8-0.8,0.3-1.4c-0.3-0.4-1.1-0.8-1.6-0.8c-1.4,0-2.4-1.6-1.6-2.9c1-2-0.8-3.2-2-1.4c-0.4,0.6-1.1,0.9-1.8,0.9c-0.7,0-1.6-0.4-2.1-0.9C191.4,145.3,191,145.3,190.3,146.2z"/></g></g></g>
                                </svg>
                  
                              <svg *ngIf="detalle.tipo_vehiculo == 10" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <path fill="black" d="M3 7c-1.11 0-2 .89-2 2v8h2a3 3 0 0 0 3 3a3 3 0 0 0 3-3h6a3 3 0 0 0 3 3a3 3 0 0 0 3-3h2v-4c0-1.11-.89-2-2-2l-3-4zm0 1.5h4V11H3zm6 0h4V11H9zm6 0h2.5l1.96 2.5H15zm-9 7A1.5 1.5 0 0 1 7.5 17A1.5 1.5 0 0 1 6 18.5A1.5 1.5 0 0 1 4.5 17A1.5 1.5 0 0 1 6 15.5m12 0a1.5 1.5 0 0 1 1.5 1.5a1.5 1.5 0 0 1-1.5 1.5a1.5 1.5 0 0 1-1.5-1.5a1.5 1.5 0 0 1 1.5-1.5" />
                              </svg> 
                              
                              
                              {{detalle.ppu}}
                        </td>
                        <!-- <td>{{detalle.ppu}}</td> -->
                    </tr>
                </table>
                <!-- {{citacion.Detalles | json}} -->
            </td>
            <td>
                <button (click)="verDetalle(citacion.Detalles)" cButton>Launch demo modal</button>
            </td>

        </tbody>
    </table>
</div>


<c-modal id="modalXl" size="xl" [visible]="visible" (visibleChange)="handleLiveDemoChange($event)">
    <c-modal-header>
        <h5 cModalTitle>Modal title</h5>
        <button (click)="toggleLiveDemo()" cButtonClose></button>
      </c-modal-header>
      <c-modal-body>
        <table>
            <tr *ngFor="let detalle of detalleCitacion ">
                <td>{{detalle.estado}}</td>
                <td>{{detalle.ruta_meli}}</td>
                <td>{{detalle.ppu}}</td>
                <td>{{detalle.tipo_vehiculo}}</td>
                <td>
                    <c-progress>
                        <c-progress-bar [value]="detalle.p_avance" class="overflow-visible text-dark px-2" color="success">
                          
                        </c-progress-bar>
                      </c-progress>

                </td>
            </tr>
        </table>



      </c-modal-body>
      <c-modal-footer>
        <button (click)="toggleLiveDemo()" cButton color="secondary">
          Close
        </button>
      </c-modal-footer>
    </c-modal>