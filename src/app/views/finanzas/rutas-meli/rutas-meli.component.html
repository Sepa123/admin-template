<!-- <h2> Resumen Ruta Mercado Libre</h2> -->


<c-row>
  <c-col>
    <h2> Resumen Ruta Mercado Libre</h2>
  </c-col>

  <c-col>

  </c-col>
</c-row>

<div class="divider"></div>
<p></p>
    
    <div class="nada">

        <c-row >
            <c-col xs="6" sm="3">
          
            <div class="card card-gray">
              <table>
                <tr >
                  <td width="98" height="98" style="padding: 0px;">
                    <div class="icon-background">

                     <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 512 512">
                      <path fill="#6c757d" d="M512 96c0 50.2-59.1 125.1-84.6 155c-3.8 4.4-9.4 6.1-14.5 5H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c53 0 96 43 96 96s-43 96-96 96H139.6c8.7-9.9 19.3-22.6 30-36.8c6.3-8.4 12.8-17.6 19-27.2H416c17.7 0 32-14.3 32-32s-14.3-32-32-32h-96c-53 0-96-43-96-96s43-96 96-96h39.8c-21-31.5-39.8-67.7-39.8-96c0-53 43-96 96-96s96 43 96 96M117.1 489.1c-3.8 4.3-7.2 8.1-10.1 11.3l-1.8 2l-.2-.2c-6 4.6-14.6 4-20-1.8C59.8 473 0 402.5 0 352c0-53 43-96 96-96s96 43 96 96c0 30-21.1 67-43.5 97.9c-10.7 14.7-21.7 28-30.8 38.5zM128 352a32 32 0 1 0-64 0a32 32 0 1 0 64 0m288-224a32 32 0 1 0 0-64a32 32 0 1 0 0 64" />
                    </svg>
                      
                  </div>
                  </td>
                  <td style="padding: 0px;">
                    <div class="text-content">
                      <h3>Total Rutas</h3>
                      <div class="number">{{panelRsumenMeli.Total}}</div>
                  </div>
                  </td>
                </tr>
              </table>
          </div>
          
          
            </c-col>
          
            <c-col xs="6" sm="3">
          
              <div class="card card-green">
                <table>
                  <tr>
                    <td width="98" height="98" style="padding: 0px;">
                      <div class="icon-background">
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 576 512">
                          <path fill="#5cb85c" d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v38.6c-73.9 20.9-128 88.8-128 169.4c0 59.1 29.1 111.3 73.7 143.3c-3.2.5-6.4.7-9.7.7H64c-35.3 0-64-28.7-64-64zm384 64H256V0zm-96 240a144 144 0 1 1 288 0a144 144 0 1 1-288 0m211.3-43.3c-6.2-6.2-16.4-6.2-22.6 0L416 385.4l-28.7-28.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l40 40c6.2 6.2 16.4 6.2 22.6 0l72-72c6.2-6.2 6.2-16.4 0-22.6" />
                        </svg>


                    </div>
                    </td>
                    <td style="padding: 0px;">
                      <div class="text-content">
                        <h3>En Proforma</h3>
                        <div class="number">{{panelRsumenMeli.En_proforma}}</div>
                    </div>
                    </td>
                  </tr>
                </table>
            </div>
          
            </c-col>
          
            <c-col xs="6" sm="3">
          
              <div class="card card-red">
                <table >
                  <tr >
                    <td width="98" height="98" style="padding: 0px;">
                      <div class="icon-background">
                        <svg xmlns="http://www.w3.org/2000/svg" width="56.25" height="50" viewBox="0 0 576 512">
                          <path fill="#d9534f" d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v38.6c-73.9 20.9-128 88.8-128 169.4c0 59.1 29.1 111.3 73.7 143.3c-3.2.5-6.4.7-9.7.7H64c-35.3 0-64-28.7-64-64zm384 64H256V0zm48 96a144 144 0 1 1 0 288a144 144 0 1 1 0-288m59.3 107.3c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l36.7 36.7l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0l36.7-36.7l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368z" />
                        </svg>
                    </div>
                    </td>
                    <td style="padding: 0px;">
                      <div class="text-content">
                        <h3>Sin Proforma</h3>
                        <div class="number">{{panelRsumenMeli.Sin_proforma}}</div>
                    </div>
                    </td>
                  </tr>
                </table>
            </div>
          
            </c-col>
          
            <c-col xs="6" sm="3">
          
            <div class="card card-yellow">
              <table class="panel">
                <tr class="panel">
                  <td width="98" height="98" style="padding: 0px;">
                    <div class="icon-background">

                      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 512 512">
                        <path fill="#ffcc00" d="M320 96H192l-47.4-71.1c-7.1-10.7.5-24.9 13.3-24.9h196.2c12.8 0 20.4 14.2 13.3 24.9zm-128 32h128c3.8 2.5 8.1 5.3 13 8.4c56.7 36.3 179 114.5 179 279.6c0 53-43 96-96 96H96c-53 0-96-43-96-96c0-165.1 122.3-243.3 179-279.6c4.8-3.1 9.2-5.9 13-8.4m84 88c0-11-9-20-20-20s-20 9-20 20v14c-7.6 1.7-15.2 4.4-22.2 8.5c-13.9 8.3-25.9 22.8-25.8 43.9c.1 20.3 12 33.1 24.7 40.7c11 6.6 24.7 10.8 35.6 14l1.7.5c12.6 3.8 21.8 6.8 28 10.7c5.1 3.2 5.8 5.4 5.9 8.2c.1 5-1.8 8-5.9 10.5c-5 3.1-12.9 5-21.4 4.7c-11.1-.4-21.5-3.9-35.1-8.5q-3.45-1.2-7.2-2.4c-10.5-3.5-21.8 2.2-25.3 12.6s2.2 21.8 12.6 25.3c1.9.6 4 1.3 6.1 2.1c8.3 2.9 17.9 6.2 28.2 8.4v14.6c0 11 9 20 20 20s20-9 20-20V410c8-1.7 16-4.5 23.2-9c14.3-8.9 25.1-24.1 24.8-45c-.3-20.3-11.7-33.4-24.6-41.6c-11.5-7.2-25.9-11.6-37.1-15l-.7-.2c-12.8-3.9-21.9-6.7-28.3-10.5c-5.2-3.1-5.3-4.9-5.3-6.7c0-3.7 1.4-6.5 6.2-9.3c5.4-3.2 13.6-5.1 21.5-5c9.6.1 20.2 2.2 31.2 5.2c10.7 2.8 21.6-3.5 24.5-14.2s-3.5-21.6-14.2-24.5c-6.5-1.7-13.7-3.4-21.1-4.7v-13.9z" />
                      </svg>
                  </div>
                  </td>
                  <td style="padding: 0px;">
                    <div class="text-content">
                      <h3>Descuentos</h3>
                      <div class="number">{{panelRsumenMeli.Descuentos }}</div>
                  </div>
                  </td>
                </tr>
              </table>
          </div>
          
            </c-col>
          
            
          </c-row>

    </div>
    <p></p>


<c-row>
  <c-col [xs]>
    Fecha Inicio
<input type="date"  class="form-control" placeholder="Fecha" [(ngModel)]="fecha_inicio"  required>
  </c-col>
  
  <c-col [xs]>
    Fecha Fin
    <input type="date" class="form-control" placeholder="Fecha" [(ngModel)]="fecha_fin"  required>
  </c-col>
  <c-col [xs]> 
    <p></p>
    <button  (click)="buscarNsFechaSupervisor()" cButton  color="secondary" >Buscar</button> &nbsp; &nbsp;
    <img width="40" *ngIf="isLoadingFull" height="50" src="../../../assets/images/loading-gif.gif" />
  </c-col>
</c-row>
<p></p>

<c-row>
  <c-col [xs]>
    <input type="text" [(ngModel)]="textoFiltro" (keyup)="onKeyUp()" placeholder="Buscador" class="form-control">
  </c-col>
  <c-col [xs]>
    <button  (click)="onKeyUp()" cButton  color="secondary" >Filtrar</button>
    <!-- <button *ngIf="chartVisible == true" (click)="DescargarNS()" cButton  color="success" size="sm">Descargar
      <svg class="dExcel" xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 384 512">
        <path d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM155.7 250.2L192 302.1l36.3-51.9c7.6-10.9 22.6-13.5 33.4-5.9s13.5 22.6 5.9 33.4L221.3 344l46.4 66.2c7.6 10.9 5 25.8-5.9 33.4s-25.8 5-33.4-5.9L192 385.8l-36.3 51.9c-7.6 10.9-22.6 13.5-33.4 5.9s-13.5-22.6-5.9-33.4L162.7 344l-46.4-66.2c-7.6-10.9-5-25.8 5.9-33.4s25.8-5 33.4 5.9z"/>
      </svg>
    </button> -->
  </c-col>
</c-row>

<div>


<!-- <c-row>
  <c-col [xs]>
    <input type="text" [(ngModel)]="textoFiltro" (keyup)="onKeyUp()" placeholder="Buscador" class="form-control">
  </c-col>
  <c-col [xs]>
    <button  (click)="onKeyUp()" cButton  color="secondary" >Filtrar</button>
  </c-col>
</c-row> -->
<p></p>
  <div class="greenTable">
    <table>
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Modalidad</th>
        <th>Id Ruta</th>
        <th>Centro Operación</th>
        <th class="sortable" (click)="sortTablePpu(sortOrderPpu)">Patente</th>
        <th>Estado Ruta</th>
        <th>Tipo</th>
        <th>Ruta Auxiliadora</th>
        <th>Avance</th>
        <!-- <th>% Avance</th> -->
        <!-- <th>Fallido</th>
        <th>Entregas</th>
        <th>Kilometros</th>
        <th>Peoneta</th> -->
        <th>Valor Ruta</th>
        <!-- <th>Observación</th> -->
        <!-- <th>Razón Id</th> -->
        <th>Rut Empresa</th>
        <th class="proforma">En proforma</th>
        <th class="proforma">Total Descuentos</th>
        <th class="proforma">A Pagos</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody *ngFor="let reporte of this.reporteMeliFinanza; let i = index ">
    <tr >
        <td>{{reporte.Fecha}}</td>
        <td>{{reporte.Modalidad}}</td>
        <td>{{reporte.Id_ruta}}</td>
        <td>{{reporte.Centro_operacion}}</td>
        <td>{{reporte.Ppu}}</td>
        <td>{{reporte.Estado_ruta}}</td>
        <td>{{reporte.Tipo}}</td> 
        <td>{{reporte.Ruta_auxiliada}}</td> 
        <td>{{reporte.Avance}}</td> 
        <!-- <td>{{reporte.P_avance}}</td>  -->
        <!-- <td>{{reporte.Lm_fallido}}</td> 
        
        <td>{{reporte.Lm_entregas}}</td> 
        <td>{{reporte.Km}}</td> 
        <td>{{reporte.Peoneta}}</td>  -->
        <td>{{reporte.Valor_ruta}}</td> 
        <!-- <td>{{reporte.Observacion}}</td> -->
        <!-- <td>{{reporte.Razon_id}}</td> -->
        <td>{{reporte.Rut_empresa}}</td>
        <td class="proforma">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1536" *ngIf="reporte.En_proforma">
            <path fill="green" d="M1284 606q0-28-18-46l-91-90q-19-19-45-19t-45 19L677 877L451 651q-19-19-45-19t-45 19l-91 90q-18 18-18 46q0 27 18 45l362 362q19 19 45 19q27 0 46-19l543-543q18-18 18-45m252 162q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768" />
          </svg>
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1536" *ngIf="!reporte.En_proforma">
            <path fill="red" d="M1149 994q0-26-19-45L949 768l181-181q19-19 19-45q0-27-19-46l-90-90q-19-19-46-19q-26 0-45 19L768 587L587 406q-19-19-45-19q-27 0-46 19l-90 90q-19 19-19 46q0 26 19 45l181 181l-181 181q-19 19-19 45q0 27 19 46l90 90q19 19 46 19q26 0 45-19l181-181l181 181q19 19 45 19q27 0 46-19l90-90q19-19 19-46m387-226q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768" />
          </svg>
        </td>
        <td class="proforma">{{reporte.Descuento_clp}}</td>
        
        <td class="proforma">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1536" *ngIf="reporte.P_a_pago">
            <path fill="green" d="M1284 606q0-28-18-46l-91-90q-19-19-45-19t-45 19L677 877L451 651q-19-19-45-19t-45 19l-91 90q-18 18-18 46q0 27 18 45l362 362q19 19 45 19q27 0 46-19l543-543q18-18 18-45m252 162q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768" />
          </svg>
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1536" *ngIf="!reporte.P_a_pago">
            <path fill="red" d="M1149 994q0-26-19-45L949 768l181-181q19-19 19-45q0-27-19-46l-90-90q-19-19-46-19q-26 0-45 19L768 587L587 406q-19-19-45-19q-27 0-46 19l-90 90q-19 19-19 46q0 26 19 45l181 181l-181 181q-19 19-19 45q0 27 19 46l90 90q19 19 46 19q26 0 45-19l181-181l181 181q19 19 45 19q27 0 46-19l90-90q19-19 19-46m387-226q0 209-103 385.5T1153.5 1433T768 1536t-385.5-103T103 1153.5T0 768t103-385.5T382.5 103T768 0t385.5 103T1433 382.5T1536 768" />
          </svg>
        </td>
        <td>
          <svg *ngIf="!reporte.Adicional" (click)="verInfoAdicional(reporte.Id_ruta)" xmlns="http://www.w3.org/2000/svg" width="13.13" height="15" viewBox="0 0 448 512">
            <path fill="gray" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0" />
          </svg>

          <svg *ngIf="reporte.Adicional" (click)="verInfoAdicional(reporte.Id_ruta)" xmlns="http://www.w3.org/2000/svg" width="13.13" height="15" viewBox="0 0 448 512">
            <path fill="gray" d="m240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495L69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001" />
          </svg>
        </td>
    </tr>
    <tr *ngIf="reporte.Adicional">
      <td colspan="17">
        <strong>Información adicional:</strong>
        <table>
            <thead>
                <tr>
                    <th>Tipo Vehículo</th>
                    <th>Driver</th>
                    <th>Razón Social</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                  <td>{{reporte.Tipo_vehiculo}}</td>
                  <td>{{reporte.Driver}}</td>
                  <td>{{reporte.Razon_social}}</td>
                </tr>
            </tbody>
        </table>
    </td>

    </tr>
    
    
    </tbody>

    
    <tr *ngIf="reporteMeliFinanza.length === 0">
      <td colspan="17">
       no hay registros
      </td> 
     </tr>
    </table>
  </div>  
  <p></p>

<c-row>
  <c-col [xs]>
    <button (click)="DescargarNS()" cButton  color="success" size="sm">Descargar
      <svg class="dExcel" xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 384 512">
        <path d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM155.7 250.2L192 302.1l36.3-51.9c7.6-10.9 22.6-13.5 33.4-5.9s13.5 22.6 5.9 33.4L221.3 344l46.4 66.2c7.6 10.9 5 25.8-5.9 33.4s-25.8 5-33.4-5.9L192 385.8l-36.3 51.9c-7.6 10.9-22.6 13.5-33.4 5.9s-13.5-22.6-5.9-33.4L162.7 344l-46.4-66.2c-7.6-10.9-5-25.8 5.9-33.4s25.8-5 33.4 5.9z"/>
      </svg>
    </button>
  </c-col>
  <c-col [xs]>
    
  </c-col>
</c-row>

</div>

