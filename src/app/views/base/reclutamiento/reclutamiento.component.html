<!-- Agregar -->

<c-modal id="liveAgregaModal" [visible]="visibleAgregar" (visibleChange)="handleLiveAgregaChange($event)" size="xl">
    <c-modal-header>
      <h5 cModalTitle>Agregar Candidato  </h5>
      <button (click)="toggleLiveAgregar()" cButtonClose></button>
    </c-modal-header>
    <c-modal-body>
      <form cForm  (ngSubmit)="registrarCandidato()" > 
        <div class="card">
          <p></p>
          <h5>Vehículo</h5>
          <p></p>
          <c-row>
            <c-col [xs]>
                <div class="noEditar">
                    Región
                    <select id="EstadoContacto" cSelect class="form-control">
                      <option *ngFor="let region of listaRegiones"  [value]="region.Id_region"  >{{region.Nombre_region}}</option>
                    </select>


                </div>
            </c-col>
            <c-col [xs]>
              <div class="">
                  Operación Postula
                  <select id="EstadoContacto" cSelect class="form-control">
                    <option *ngFor="let op of listaOperacion"  [value]="op.Id"  >{{op.Operacion}}</option>
                  </select>
              </div>
          </c-col>
          <c-col [xs]>
            <div class="">
              Nombre Contacto

              <input type="text" placeholder="Nombre Contacto" class="form-control"  >
                <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                <span class="error">
                    Falta agregar el nombre de contacto
                </span>
          </div>
        </c-col>
            <c-col [xs]>
              Teléfono
              <input type="text" placeholder="Teléfono" class="form-control"  >
                <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                <span class="error">
                    Falta agregar el teléfono
                </span>

              
            </c-col>
        </c-row>
        <c-row>
          <c-col [xs]>
            <div class="">
              Tipo vehículo *

              <select id="EstadoContacto" cSelect class="form-control">
                    <option *ngFor="let veh of listaTipoVehiculo"  [value]="veh.Id"  >{{veh.Tipo_vehiculo }}</option>
              </select>
              
          </div>
        </c-col>
            <c-col [xs]>
              Origen Contacto

              <select id="EstadoContacto" cSelect class="form-control">

                    <option *ngFor="let origen of listaOrigen"  [value]="origen.Id"  >{{origen.Origen}}</option>
              </select>
            </c-col>
            <c-col [xs]>
              <div class="">
                Estado Contacto
                  <select id="EstadoContacto" cSelect class="form-control">
                    <option *ngFor="let estado of listaEstadoContacto"  [value]="estado.Id"  >{{estado.Estado_contacto}}</option>
                  </select>
                  </div>
          </c-col>
              <c-col [xs]>
                  <div class="">
                    Motivo Subestado
                    <select id="EstadoContacto" cSelect class="form-control">
                          <option *ngFor="let motivo of listaMotivo"  [value]="motivo.Id"  >{{motivo.Motivo_subestado}}</option>
                    </select>
                  </div>
              </c-col>
        </c-row>
        <c-row>
            <c-col [xs]>
              <div class="">
                Contacto Ejecutivo
                <select id="EstadoContacto" cSelect class="form-control">
                          <option *ngFor="let contacto of listaContactoEjecutivo"  [value]="contacto.Id"  >{{contacto.Ejecutivo}}</option>
                </select>
            </div>
          </c-col>
          <c-col [xs]>
            <div class="">
              Razón Social
              <input type="text" placeholder="Razón Social" class="form-control"  >
              <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
              <span class="error">
                  Falta agregar la razón social
              </span>

          </div>
              </c-col>
                <c-col [xs]>
                  <div class="">
                    Rut Empresa 
                    <input type="text" placeholder=" Rut Empresa " class="form-control"  >
                    <!-- <input type="text" placeholder="Codigo" class="form-control" formControlName="Codigo" > -->
                    <span class="error">
                        Falta agregar el rut de la empresa
                    </span>
                  </div>
              </c-col>
              <c-col [xs]>
                <div class="">
                  
                </div>
            </c-col>
          </c-row>
          <p></p>
          <!-- <h5>Datos proporcionados por transporte</h5> -->
          <p></p>
  

      <p></p>

      
      </div>
        <p></p>
        <c-row>
            <c-col [xs]>
                <button class="btn btn-success" type="submit"  >Guardar 
                    <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#000000}</style><path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
                </button>
            </c-col>
        </c-row>
      </form>
    </c-modal-body>
  </c-modal>
  

  <!-- Modificar -->
  <c-modal id="liveDemoModal" [visible]="visible" (visibleChange)="handleLiveDemoChange($event)" size="xl">
    <c-modal-header>
      <h5 cModalTitle> </h5>
      <button (click)="toggleLiveDemo()" cButtonClose></button>
    </c-modal-header>
    <c-modal-body>
      <form cForm (ngSubmit)="actualizarDatosVehiculo()" *ngIf="listaComunasFull.length !== 0" > 

      </form>
  
    </c-modal-body>
    <c-modal-footer>
      <button (click)="toggleLiveDemo()" cButton color="secondary">
        Cerrar
      </button>
    </c-modal-footer>
  </c-modal>
  
  <h2>Reclutamiento</h2>
  <p></p>
  
        <c-row>
          <c-col [xs] >
              <button *ngIf="rol_no_permitido.includes(rol+'') == false" class="btn btn-success" (click)="toggleLiveAgregar()">Agregar Candidato
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 20 20">
                  <path fill="currentColor" d="M8.5 4.5a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0M10 2a2.5 2.5 0 1 0 0 5a2.5 2.5 0 0 0 0-5m4.5 3a1 1 0 1 1 2 0a1 1 0 0 1-2 0m1-2a2 2 0 1 0 0 4a2 2 0 0 0 0-4m-11 1a1 1 0 1 0 0 2a1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0a2 2 0 0 1-4 0M5 15l.1-.002q.103.509.304.975A3 3 0 0 1 2 13V9.25C2 8.56 2.56 8 3.25 8h2.129a2.24 2.24 0 0 0-.365 1H3.25a.25.25 0 0 0-.25.25V13a2 2 0 0 0 2 2m12-5.5a2.5 2.5 0 0 1 .958 1.542l.042.008v-1.8C18 8.56 17.44 8 16.75 8h-2.129c.196.292.325.633.365 1h1.764a.25.25 0 0 1 .25.25zm-1.5.5h-2a1.5 1.5 0 0 0-1.5 1.5v.5h-.5a1.5 1.5 0 0 0-1.5 1.5V15h2v-.5a.5.5 0 0 1 1 0v.5h3v-.5a.5.5 0 0 1 1 0v.5h2v-1.5a1.5 1.5 0 0 0-1.5-1.5H17v-.5a1.5 1.5 0 0 0-1.5-1.5M7.25 9a.25.25 0 0 0-.25.25V14c0 1.306.835 2.418 2 2.83v.67q0 .195.029.381A4 4 0 0 1 6 14V9.25C6 8.56 6.56 8 7.25 8h5.5c.605 0 1.11.43 1.225 1zM13 12v-.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v.5zm4 4v.5a.5.5 0 0 1-1 0V16h-3v.5a.5.5 0 0 1-1 0V16h-2v1.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V16z" />
                </svg>
              </button>
          </c-col>
          <c-col [xs]>
            <!-- <select id="Region"  cSelect  class="form-control" (change)="filtrarVehiculoRegion()" [(ngModel)]="regionSeleccionada">
              <option  [value]="0" >Todas las regiones</option>
              <option *ngFor="let region of listaRegionesFiltro"  [value]="region.Id_region"  >{{region.Nombre_region}}</option>
          </select> -->
          </c-col>
          <c-col [xs]>
              <input type="text" placeholder="Buscador" class="form-control" [(ngModel)]="buscadorVehiculo">
  
          </c-col>
          <c-col [xs]>
              
            <button class="btn btn-success" (click)="buscarVehiculoFiltro()">Buscar</button>
          </c-col>
      </c-row>
      <p></p>
  

        <p></p>
        <div class="greenTable" style="width: 100%;">
          
          <table id="tablaProductosPicking" style="width: 100%;"  >
          <thead>
            <tr>
              <th>Región</th>
              <th>Operación postula</th>
              <th>Nombre contacto</th>
              <th>Teléfono</th>
              <th>Vehículo</th>
              <th>Origen Contacto</th>
              <th>Estado contacto</th>
              <th>Motivo</th>
              <th>Contacto ejecutivo</th>
              <th>Razón social</th>
              <th>Rut empresas</th>
              <th>Internalizado</th>
            </tr>
          </thead>
          <tbody>

         
          </tbody>
          </table>
        </div>
        <p></p>
        <!-- <button class="btn btn-success" (click)="descargarDatosVehiculos()">Descargar</button>
       &nbsp;&nbsp;
        <button cButton style="background-color: #f1948a; border: #f1948a; color: #000000;" (click)="descargarExcelATHela()" >
          <svg class="dExcel" xmlns="http://www.w3.org/2000/svg"  height="1.5em" viewBox="0 0 384 512">
              <path d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM155.7 250.2L192 302.1l36.3-51.9c7.6-10.9 22.6-13.5 33.4-5.9s13.5 22.6 5.9 33.4L221.3 344l46.4 66.2c7.6 10.9 5 25.8-5.9 33.4s-25.8 5-33.4-5.9L192 385.8l-36.3 51.9c-7.6 10.9-22.6 13.5-33.4 5.9s-13.5-22.6-5.9-33.4L162.7 344l-46.4-66.2c-7.6-10.9-5-25.8 5.9-33.4s25.8-5 33.4 5.9z"/>
          </svg> Descarga AT
      </button> -->
  


